"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t,n,s,r,i,c,a,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(n=document.createElement("source"),s=function(e){var t,s,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=n.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,s=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=s}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)s(t[e])},i=function(){clearTimeout(t),t=setTimeout(r,99)},c=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){i(),c&&c.addListener&&c.addListener(i)},n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),i))}(window),function(e,i,o){var n,l,u;i.createElement("picture");var x={},c=!1,t=function(){},s=i.createElement("img"),f=s.getAttribute,d=s.setAttribute,p=s.removeAttribute,a=i.documentElement,r={},E={algorithm:""},m="data-pfsrc",A=m+"set",h=navigator.userAgent,z=/rident/.test(h)||/ecko/.test(h)&&h.match(/rv\:(\d+)/)&&35<RegExp.$1,T="currentSrc",g=/\s+\+?\d+(e\d+)?w/,v=/(\([^)]+\))?\s*(.+)/,y=e.picturefillCFG,w="font-size:100%!important;",S=!0,b={},C={},R=e.devicePixelRatio,L={px:1,in:96},M=i.createElement("a"),P=!1,D=/^[ \t\n\r\u000c]+/,B=/^[, \t\n\r\u000c]+/,I=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,$=/^\d+$/,k=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,W=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Q=function(t){var s={};return function(e){return e in s||(s[e]=t(e)),s[e]}};function G(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var H,F,_,N,O,q,j,V,K,J,X,Y,Z,ee,te,se,re,ne,ie,ce=(H=/^([\d\.]+)(em|vw|px)$/,F=Q(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var s;if(!(e in b))if(b[e]=!1,t&&(s=e.match(H)))b[e]=s[1]*L[s[2]];else try{b[e]=new Function("e",F(e))(L)}catch(e){}return b[e]}),ae=function(e,t){return e.w?(e.cWidth=x.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(c){var t,s,r,n=e||{};if(n.elements&&1===n.elements.nodeType&&("IMG"===n.elements.nodeName.toUpperCase()?n.elements=[n.elements]:(n.context=n.elements,n.elements=null)),r=(t=n.elements||x.qsa(n.context||i,n.reevaluate||n.reselect?x.sel:x.selShort)).length){for(x.setupRun(n),P=!0,s=0;s<r;s++)x.fillImg(t[s],n);x.teardownRun(n)}}};function oe(e,t){return e.res-t.res}function le(e,t){var s,r,n;if(e&&t)for(n=x.parseSet(t),e=x.makeUrl(e),s=0;s<n.length;s++)if(e===x.makeUrl(n[s].url)){r=n[s];break}return r}e.console&&console.warn,T in s||(T="src"),r["image/jpeg"]=!0,r["image/gif"]=!0,r["image/png"]=!0,r["image/svg+xml"]=i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),x.ns=("pf"+(new Date).getTime()).substr(0,9),x.supSrcset="srcset"in s,x.supSizes="sizes"in s,x.supPicture=!!e.HTMLPictureElement,x.supSrcset&&x.supPicture&&!x.supSizes&&(_=i.createElement("img"),s.srcset="data:,a",_.src="data:,a",x.supSrcset=s.complete===_.complete,x.supPicture=x.supSrcset&&x.supPicture),x.supSrcset&&!x.supSizes?(N="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",O=i.createElement("img"),q=function(){2===O.width&&(x.supSizes=!0),l=x.supSrcset&&!x.supSizes,c=!0,setTimeout(ue)},O.onload=q,O.onerror=q,O.setAttribute("sizes","9px"),O.srcset=N+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",O.src=N):c=!0,x.selShort="picture>img,img[srcset]",x.sel=x.selShort,x.cfg=E,x.DPR=R||1,x.u=L,x.types=r,x.setSize=t,x.makeUrl=Q(function(e){return M.href=e,M.href}),x.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},x.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?x.matchesMedia=function(e){return!e||matchMedia(e).matches}:x.matchesMedia=x.mMQ,x.matchesMedia.apply(this,arguments)},x.mMQ=function(e){return!e||ce(e)},x.calcLength=function(e){var t=ce(e,!0)||!1;return t<0&&(t=!1),t},x.supportsType=function(e){return!e||r[e]},x.parseSize=Q(function(e){var t=(e||"").match(v);return{media:t&&t[1],length:t&&t[2]}}),x.parseSet=function(e){return e.cands||(e.cands=function(r,f){function e(e){var t,s=e.exec(r.substring(c));if(s)return t=s[0],c+=t.length,t}var d,p,t,s,n,i=r.length,c=0,m=[];function a(){var e,t,s,r,n,i,c,a,u,o=!1,l={};for(r=0;r<p.length;r++)i=(n=p[r])[n.length-1],c=n.substring(0,n.length-1),a=parseInt(c,10),u=parseFloat(c),$.test(c)&&"w"===i?((e||t)&&(o=!0),0===a?o=!0:e=a):k.test(c)&&"x"===i?((e||t||s)&&(o=!0),u<0?o=!0:t=u):$.test(c)&&"h"===i?((s||t)&&(o=!0),0===a?o=!0:s=a):o=!0;o||(l.url=d,e&&(l.w=e),t&&(l.d=t),s&&(l.h=s),s||t||e||(l.d=1),1===l.d&&(f.has1x=!0),l.set=f,m.push(l))}function u(){for(e(D),t="",s="in descriptor";;){if(n=r.charAt(c),"in descriptor"===s)if(G(n))t&&(p.push(t),t="",s="after descriptor");else{if(","===n)return c+=1,t&&p.push(t),void a();if("("===n)t+=n,s="in parens";else{if(""===n)return t&&p.push(t),void a();t+=n}}else if("in parens"===s)if(")"===n)t+=n,s="in descriptor";else{if(""===n)return p.push(t),void a();t+=n}else if("after descriptor"===s)if(G(n));else{if(""===n)return void a();s="in descriptor",c-=1}c+=1}}for(;;){if(e(B),i<=c)return m;d=e(I),p=[],","===d.slice(-1)?(d=d.replace(U,""),a()):u()}}(e.srcset,e)),e.cands},x.getEmValue=function(){var e;if(!n&&(e=i.body)){var t=i.createElement("div"),s=a.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",a.style.cssText=w,e.style.cssText=w,e.appendChild(t),n=t.offsetWidth,e.removeChild(t),n=parseFloat(n,10),a.style.cssText=s,e.style.cssText=r}return n||16},x.calcListLength=function(e){if(!(e in C)||E.uT){var t=x.calcLength(function(e){var t,s,r,n,i,c,a,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,o=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(s=function(e){var t,s="",r=[],n=[],i=0,c=0,a=!1;function u(){s&&(r.push(s),s="")}function o(){r[0]&&(n.push(r),r=[])}for(;;){if(""===(t=e.charAt(c)))return u(),o(),n;if(a){if("*"===t&&"/"===e[c+1]){a=!1,c+=2,u();continue}c+=1}else{if(G(t)){if(e.charAt(c-1)&&G(e.charAt(c-1))||!s){c+=1;continue}if(0===i){u(),c+=1;continue}t=" "}else if("("===t)i+=1;else if(")"===t)i-=1;else{if(","===t){u(),o(),c+=1;continue}if("/"===t&&"*"===e.charAt(c+1)){a=!0,c+=2;continue}}s+=t,c+=1}}}(e)).length,t=0;t<r;t++)if(i=(n=s[t])[n.length-1],a=i,u.test(a)&&0<=parseFloat(a)||o.test(a)||"0"===a||"-0"===a||"+0"===a){if(c=i,n.pop(),0===n.length)return c;if(n=n.join(" "),x.matchesMedia(n))return c}return"100vw"}(e));C[e]=t||L.width}return C[e]},x.setRes=function(e){var t;if(e)for(var s=0,r=(t=x.parseSet(e)).length;s<r;s++)ae(t[s],e.sizes);return t},x.setRes.res=ae,x.applySetCandidate=function(e,t){if(e.length){var s,r,n,i,c,a,u,o,l,f,d,p,m,A,h,g,v,y,w,S=t[x.ns],b=x.DPR;if(a=S.curSrc||t[T],(u=S.curCan||(f=t,d=a,!(p=e[0].set)&&d&&(p=(p=f[x.ns].sets)&&p[p.length-1]),(m=le(d,p))&&(d=x.makeUrl(d),f[x.ns].curSrc=d,(f[x.ns].curCan=m).res||ae(m,m.set.sizes)),m))&&u.set===e[0].set&&((l=z&&!t.complete&&u.res-.1>b)||(u.cached=!0,u.res>=b&&(c=u))),!c)for(e.sort(oe),c=e[(i=e.length)-1],r=0;r<i;r++)if((s=e[r]).res>=b){c=e[n=r-1]&&(l||a!==x.makeUrl(s.url))&&(A=e[n].res,h=s.res,g=b,v=e[n].cached,w=y=void 0,g<("saveData"===E.algorithm?2.7<A?g+1:(w=(h-g)*(y=Math.pow(A-.6,1.5)),v&&(w+=.1*y),A+w):1<g?Math.sqrt(A*h):A))?e[n]:s;break}c&&(o=x.makeUrl(c.url),S.curSrc=o,S.curCan=c,o!==a&&x.setSrc(t,c),x.setSize(t))}},x.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},x.getSet=function(e){var t,s,r,n=!1,i=e[x.ns].sets;for(t=0;t<i.length&&!n;t++)if((s=i[t]).srcset&&x.matchesMedia(s.media)&&(r=x.supportsType(s.type))){"pending"===r&&(s=r),n=s;break}return n},x.parseSets=function(e,t,s){var r,n,i,c,a=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[x.ns];(u.src===o||s.src)&&(u.src=f.call(e,"src"),u.src?d.call(e,m,u.src):p.call(e,m)),(u.srcset===o||s.srcset||!x.supSrcset||e.srcset)&&(r=f.call(e,"srcset"),u.srcset=r,c=!0),u.sets=[],a&&(u.pic=!0,function(e,t){var s,r,n,i,c=e.getElementsByTagName("source");for(s=0,r=c.length;s<r;s++)(n=c[s])[x.ns]=!0,(i=n.getAttribute("srcset"))&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,u.sets)),u.srcset?(n={srcset:u.srcset,sizes:f.call(e,"sizes")},u.sets.push(n),(i=(l||u.src)&&g.test(u.srcset||""))||!u.src||le(u.src,n)||n.has1x||(n.srcset+=", "+u.src,n.cands.push({url:u.src,d:1,set:n}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=o,u.supported=!(a||n&&!x.supSrcset||i&&!x.supSizes),c&&x.supSrcset&&!u.supported&&(r?(d.call(e,A,r),e.srcset=""):p.call(e,A)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==x.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},x.fillImg=function(e,t){var s,r,n,i,c,a=t.reselect||t.reevaluate;(e[x.ns]||(e[x.ns]={}),s=e[x.ns],a||s.evaled!==u)&&(s.parsed&&!t.reevaluate||x.parseSets(e,e.parentNode,t),s.supported?s.evaled=u:(r=e,i=x.getSet(r),c=!1,"pending"!==i&&(c=u,i&&(n=x.setRes(i),x.applySetCandidate(n,r))),r[x.ns].evaled=c))},x.setupRun=function(){P&&!S&&R===e.devicePixelRatio||(S=!1,R=e.devicePixelRatio,b={},C={},x.DPR=R||1,L.width=Math.max(e.innerWidth||0,a.clientWidth),L.height=Math.max(e.innerHeight||0,a.clientHeight),L.vw=L.width/100,L.vh=L.height/100,u=[L.height,L.width,R].join("-"),L.em=x.getEmValue(),L.rem=L.em)},x.supPicture?(ue=t,x.fillImg=t):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function e(){var t=i.readyState||"";te=setTimeout(e,"loading"===t?200:999),i.body&&(x.fillImgs(),(j=j||Z.test(t))&&clearTimeout(te))},te=setTimeout(ee,i.body?9:99),se=a.clientHeight,W(e,"resize",(V=function(){S=Math.max(e.innerWidth||0,a.clientWidth)!==L.width||a.clientHeight!==se,se=a.clientHeight,S&&x.fillImgs()},K=99,Y=function e(){var t=new Date-X;t<K?J=setTimeout(e,K-t):(J=null,V())},function(){X=new Date,J||(J=setTimeout(Y,K))})),W(i,"readystatechange",ee)),x.picturefill=ue,x.fillImgs=ue,x.teardownRun=t,ue._=x,e.picturefillCFG={pf:x,push:function(e){var t=e.shift();"function"==typeof x[t]?x[t].apply(x,e):(E[t]=e[0],P&&x.fillImgs({reselect:!0}))}};for(;y&&y.length;)e.picturefillCFG.push(y.shift());e.picturefill=ue,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),x.supPicture||(r["image/webp"]=(re="image/webp",ne="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(ie=new e.Image).onerror=function(){r[re]=!1,ue()},ie.onload=function(){r[re]=1===ie.width,ue()},ie.src=ne,"pending"))}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3BpY3R1cmVmaWxsLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsInRpbWVyIiwiZHVtbXlTcmMiLCJhZGRFdmVudExpc3RlbmVyIiwiZmluZFBpY3R1cmVJbWdzIiwib25SZXNpemUiLCJtcSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiSFRNTFBpY3R1cmVFbGVtZW50IiwidGVzdCIsIm1hdGNoIiwiUmVnRXhwIiwiJDEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbWciLCJzaXplcyIsImZpeFJlc3BpbWciLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwic291cmNlIiwiY2xvbmVOb2RlIiwicGljdHVyZSIsImluc2VydEJlZm9yZSIsImZpcnN0RWxlbWVudENoaWxkIiwic2V0VGltZW91dCIsIl9wZkxhc3RTaXplIiwib2Zmc2V0V2lkdGgiLCJyZW1vdmVDaGlsZCIsImkiLCJpbWdzIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsIm1hdGNoTWVkaWEiLCJjbGVhclRpbWVvdXQiLCJhZGRMaXN0ZW5lciIsInJlYWR5U3RhdGUiLCJpbml0IiwidW5kZWZpbmVkIiwiZXZhbElkIiwicGYiLCJpc1N1cHBvcnRUZXN0UmVhZHkiLCJ3YXJuIiwiZW1pbnB4IiwiYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciIsImdldEltZ0F0dHIiLCJpbWFnZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImRvY0VsZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJub29wIiwiY2ZnIiwiYWxnb3JpdGhtIiwicmVtb3ZlSW1nQXR0ciIsImN1clNyY1Byb3AiLCJzcmNBdHRyIiwic3Jjc2V0QXR0ciIsInNldE9wdGlvbnMiLCJwaWN0dXJlZmlsbENGRyIsInJlZ1NpemUiLCJjc3NDYWNoZSIsInNpemVMZW5ndGhDYWNoZSIsIkRQUiIsImRldmljZVBpeGVsUmF0aW8iLCJ1bml0cyIsInB4IiwiYmFzZVN0eWxlIiwiaW4iLCJmc0NzcyIsImFscmVhZHlSdW4iLCJyZWdleExlYWRpbmdTcGFjZXMiLCJyZWdleExlYWRpbmdDb21tYXNPclNwYWNlcyIsInJlZ2V4TGVhZGluZ05vdFNwYWNlcyIsInJlZ2V4VHJhaWxpbmdDb21tYXMiLCJyZWdleE5vbk5lZ2F0aXZlSW50ZWdlciIsInJlZ2V4RmxvYXRpbmdQb2ludCIsIm9uIiwib2JqIiwiZXZ0IiwiZm4iLCJjYXB0dXJlIiwiYXR0YWNoRXZlbnQiLCJtZW1vaXplIiwiY2FjaGUiLCJpbnB1dCIsImlzU3BhY2UiLCJjIiwicmVnTGVuZ3RoIiwiYnVpbGRTdHIiLCJpbWFnZTIiLCJ0aW1lb3V0IiwiZnVuYyIsIndhaXQiLCJ0aW1lc3RhbXAiLCJsYXRlciIsInJ1biIsImlzVndEaXJ0eSIsImxhc3RDbGllbnRXaWR0aCIsInR5cGUiLCJ0eXBlVXJpIiwiZXZhbENTUyIsImNzcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJpbmRleCIsInN0cmluZyIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlZExlbmd0aCIsIkZ1bmN0aW9uIiwiZSIsInNldFJlc29sdXRpb24iLCJjYW5kaWRhdGUiLCJzaXplc2F0dHIiLCJ3IiwiY1dpZHRoIiwiY2FsY0xpc3RMZW5ndGgiLCJyZXMiLCJkIiwicGljdHVyZWZpbGwiLCJvcHQiLCJlbGVtZW50cyIsInBsZW4iLCJvcHRpb25zIiwibm9kZVR5cGUiLCJxc2EiLCJjb250ZXh0IiwicmVldmFsdWF0ZSIsInJlc2VsZWN0Iiwic2VsIiwic2VsU2hvcnQiLCJmaWxsSW1nIiwidGVhcmRvd25SdW4iLCJhc2NlbmRpbmdTb3J0IiwiYSIsImIiLCJzZXQiLCJjYW5kaWRhdGVzIiwic3JjIiwibWFrZVVybCIsInVybCIsImNvbnNvbGUiLCJ0eXBlcyIsImRldGVjdFR5cGVTdXBwb3J0IiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwibnMiLCJEYXRlIiwiZ2V0VGltZSIsInN1YnN0ciIsInN1cFNyY3NldCIsInN1cFNpemVzIiwic3VwUGljdHVyZSIsInNyY3NldCIsImNvbXBsZXRlIiwid2lkdGgiLCJvbmVycm9yIiwid2lkdGgxIiwic2V0U2l6ZSIsImFuY2hvciIsImhyZWYiLCJtYXRjaGVzTWVkaWEiLCJtYXRjaGVzIiwibWVkaWEiLCJtTVEiLCJhcHBseSIsInRoaXMiLCJjYWxjTGVuZ3RoIiwic291cmNlU2l6ZVZhbHVlIiwidmFsdWUiLCJzdXBwb3J0c1R5cGUiLCJwYXJzZVNpemUiLCJzb3VyY2VTaXplU3RyIiwicGFyc2VTcmNzZXQiLCJjYW5kcyIsInJlZ0V4IiwiY2hhcnMiLCJwb3MiLCJzdWJzdHJpbmciLCJkZXNjcmlwdG9ycyIsImN1cnJlbnREZXNjcmlwdG9yIiwic3RhdGUiLCJwYXJzZURlc2NyaXB0b3JzIiwiZGVzYyIsImZsb2F0VmFsIiwiaW50VmFsIiwiaCIsImxhc3RDaGFyIiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwicEVycm9yIiwiaGFzMXgiLCJwdXNoIiwiY29sbGVjdENoYXJhY3RlcnMiLCJjaGFyQXQiLCJ0b2tlbml6ZSIsInNsaWNlIiwiZ2V0RW1WYWx1ZSIsImJvZHkiLCJvcmlnaW5hbEhUTUxDU1MiLCJjc3NUZXh0Iiwib3JpZ2luYWxCb2R5Q1NTIiwic3R5bGUiLCJkaXYiLCJhcHBlbmRDaGlsZCIsInNvdXJjZVNpemVMaXN0U3RyIiwidVQiLCJ3aW5uaW5nTGVuZ3RoIiwic3RyVmFsdWUiLCJsYXN0Q29tcG9uZW50VmFsdWUiLCJzaXplIiwidW5wYXJzZWRTaXplc0xpc3RMZW5ndGgiLCJ1bnBhcnNlZFNpemUiLCJzIiwicmVnZXhDc3NMZW5ndGhXaXRoVW5pdHMiLCJ1bnBhcnNlZFNpemVzTGlzdCIsInN0ciIsImluQ29tbWVudCIsImNvbXBvbmVudCIsImNvbXBvbmVudEFycmF5IiwicHVzaENvbXBvbmVudCIsImxpc3RBcnJheSIsInB1c2hDb21wb25lbnRBcnJheSIsImNocmN0ciIsInBhcmVuRGVwdGgiLCJwYXJzZUNvbXBvbmVudFZhbHVlcyIsInJlZ2V4Q3NzQ2FsYyIsImlzVmFsaWROb25OZWdhdGl2ZVNvdXJjZVNpemVWYWx1ZSIsImpvaW4iLCJwYXJzZVNpemVzIiwic2V0UmVzIiwibGVuIiwiYXBwbHlTZXRDYW5kaWRhdGUiLCJqIiwiY3VyU3JjIiwiY3VyQ2FuIiwiY2FuZGlkYXRlU3JjIiwiYWJvcnRDdXJTcmMiLCJkcHJWYWx1ZSIsImhpZ2hlclZhbHVlIiwiaXNDYWNoZWQiLCJib251c0ZhY3RvciIsImJvbnVzIiwic3VwcG9ydEFib3J0IiwiZHByIiwiYmVzdENhbmRpZGF0ZSIsImltYWdlRGF0YSIsImdldENhbmRpZGF0ZUZvclNyYyIsInNldHMiLCJjYWNoZWQiLCJsb3dlclZhbHVlIiwiTWF0aCIsInBvdyIsIm1lYW5EZW5zaXR5Iiwic3JjU2V0Q2FuZGlkYXRlcyIsIm1hdGNoaW5nU2V0IiwiZXZhbHVhdGVkIiwic2V0U3JjIiwib3JpZ1dpZHRoIiwiZ2V0U2V0IiwicGFyc2VTZXRzIiwic3Jjc2V0QXR0cmlidXRlIiwiaW1hZ2VTZXQiLCJlbGVtZW50Iiwic3Jjc2V0UGFyc2VkIiwicGFyZW50IiwiaXNXRGVzY3JpcG9yIiwiZ2V0QWxsU291cmNlRWxlbWVudHMiLCJjYWxsIiwiaGFzUGljdHVyZSIsInNvdXJjZXMiLCJzdXBwb3J0ZWQiLCJyZWdXRGVzYyIsInBhcnNlZCIsInNldHVwUnVuIiwiZXh0cmVtZSIsImlzRG9tUmVhZHkiLCJldmFsZWQiLCJ0aW1lcklkIiwiZmlsbEltZ3MiLCJ2dyIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsInZoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJlbSIsInJlbSIsImxhc3QiLCJtYXgiLCJtb2R1bGUiLCJuYW1lIiwiZXhwb3J0cyIsImRlZmluZSIsInNoaWZ0IiwiX3R5cGVvZiIsImFtZCIsIkltYWdlIiwib25sb2FkIl0sIm1hcHBpbmdzIjoiK1BBSUEsU0FBQUEsR0FPRSxJQURBQyxFQU9RQyxFQUhOQyxFQXVCS0MsRUFNREMsRUFRRUMsRUFKQUQsRUFwQ0pFLEVBQUtDLFVBQVVDLFVB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Q1AsbUJBQUFqRixFQUFPZ1EsR0FDakJoUSxFQUFBOFAsR0FBQS9ILE1BQUEvSCxFQUFBZ0UsSUFDb0NuRCxFQUFBaVAsR0FBTzdLLEVBQVAsR0FBcENsRCxHQUdGL0IsRUFBQWlQLFNBQUEsQ0FBQXZKLFVBQUEsT0FuN0NGLEtBQUF2RSxHQUFBQSxFQUFBM0IsUUFvNkNJbEMsRUFBTzhELGVBQWVzSSxLQUFLdkksRUFBVzhPLFNBSXhDM1MsRUFBTzJILFlBQWNBLEdBR0UsWUFBbEIsb0JBQU80SyxPQUFQLFlBQUFLLFFBQU9MLFVBQWlELFdBQTFCSyxRQUFPTCxPQUFPRSxTQUUvQ0YsT0FBT0UsUUFBVTlLLEdBQ1csbUJBQVgrSyxRQUF5QkEsT0FBT0csS0FFakRILE9BQVEsY0FBZSxXQUFhLE9BQU8vSyxLQUl2Q2pGLEVBQUdrSCxhQUNQVixFQUFPLGVBMXNDUDVDLEdBMHNDMEMsYUExc0MxQ0MsR0Ewc0N3RCwySUF4c0N4RHZELEdBQU1nSCxJQUFVaEssRUFBQThTLE9BQ2Q1SixRQUFnQixXQUNoQnZCLEVBQUFBLEtBQVcsRUFGYkEsTUFJQTNFLEdBQU0rUCxPQUFTLFdBQ2I3SixFQUFPNUMsSUFBUCxJQUFnQnRELEdBQU0rRyxNQUN0QnBDLE1BRUYzRSxHQUFNOEYsSUFBTXZDLEdBQU51QyxZQTNQVixDQTg3Q0s5SSxPQUFRZSIsImZpbGUiOiJqcy9waWN0dXJlZmlsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBwaWN0dXJlZmlsbCAtIHYzLjAuMiAtIDIwMTYtMDItMTJcbiAqIGh0dHBzOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbC9cbiAqIENvcHlyaWdodCAoYykgMjAxNiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL2Jsb2IvbWFzdGVyL0F1dGhvcnMudHh0OyBMaWNlbnNlZCBNSVRcbiAqL1xuLyohIEdlY2tvLVBpY3R1cmUgLSB2MS4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL3RyZWUvMy4wL3NyYy9wbHVnaW5zL2dlY2tvLXBpY3R1cmVcbiAqIEZpcmVmb3gncyBlYXJseSBwaWN0dXJlIGltcGxlbWVudGF0aW9uIChwcmlvciB0byBGRjQxKSBpcyBzdGF0aWMgYW5kIGRvZXNcbiAqIG5vdCByZWFjdCB0byB2aWV3cG9ydCBjaGFuZ2VzLiBUaGlzIHRpbnkgbW9kdWxlIGZpeGVzIHRoaXMuXG4gKi9cbihmdW5jdGlvbih3aW5kb3cpIHtcbiAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBpZiAoIHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQgJiYgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA8IDQ1KSApIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0aW1lcjtcblxuICAgICAgdmFyIGR1bW15U3JjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTtcblxuICAgICAgdmFyIGZpeFJlc3BpbWcgPSBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgdmFyIHNvdXJjZSwgc2l6ZXM7XG4gICAgICAgIHZhciBwaWN0dXJlID0gaW1nLnBhcmVudE5vZGU7XG5cbiAgICAgICAgaWYgKHBpY3R1cmUubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCIpIHtcbiAgICAgICAgICBzb3VyY2UgPSBkdW1teVNyYy5jbG9uZU5vZGUoKTtcblxuICAgICAgICAgIHBpY3R1cmUuaW5zZXJ0QmVmb3JlKHNvdXJjZSwgcGljdHVyZS5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBpY3R1cmUucmVtb3ZlQ2hpbGQoc291cmNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghaW1nLl9wZkxhc3RTaXplIHx8IGltZy5vZmZzZXRXaWR0aCA+IGltZy5fcGZMYXN0U2l6ZSkge1xuICAgICAgICAgIGltZy5fcGZMYXN0U2l6ZSA9IGltZy5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBzaXplcyA9IGltZy5zaXplcztcbiAgICAgICAgICBpbWcuc2l6ZXMgKz0gXCIsMTAwdndcIjtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW1nLnNpemVzID0gc2l6ZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBmaW5kUGljdHVyZUltZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBpbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBpY3R1cmUgPiBpbWcsIGltZ1tzcmNzZXRdW3NpemVzXVwiKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGltZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmaXhSZXNwaW1nKGltZ3NbaV0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmaW5kUGljdHVyZUltZ3MsIDk5KTtcbiAgICAgIH07XG4gICAgICB2YXIgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYSAmJiBtYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpXCIpO1xuICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb25SZXNpemUoKTtcblxuICAgICAgICBpZiAobXEgJiYgbXEuYWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICBtcS5hZGRMaXN0ZW5lcihvblJlc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGR1bW15U3JjLnNyY3NldCA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcblxuICAgICAgaWYgKC9eW2N8aV18ZCQvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSB8fCBcIlwiKSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uUmVzaXplO1xuICAgIH0pKCkpO1xuICB9XG59KSh3aW5kb3cpO1xuXG4vKiEgUGljdHVyZWZpbGwgLSB2My4wLjJcbiAqIGh0dHA6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDtcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG4oZnVuY3Rpb24oIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcbiAgLy8gRW5hYmxlIHN0cmljdCBtb2RlXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEhUTUwgc2hpbXx2IGl0IGZvciBvbGQgSUUgKElFOSB3aWxsIHN0aWxsIG5lZWQgdGhlIEhUTUwgdmlkZW8gdGFnIHdvcmthcm91bmQpXG4gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwicGljdHVyZVwiICk7XG5cbiAgdmFyIHdhcm4sIGVtaW5weCwgYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciwgZXZhbElkO1xuICAvLyBsb2NhbCBvYmplY3QgZm9yIG1ldGhvZCByZWZlcmVuY2VzIGFuZCB0ZXN0aW5nIGV4cG9zdXJlXG4gIHZhciBwZiA9IHt9O1xuICB2YXIgaXNTdXBwb3J0VGVzdFJlYWR5ID0gZmFsc2U7XG4gIHZhciBub29wID0gZnVuY3Rpb24oKSB7fTtcbiAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbWdcIiApO1xuICB2YXIgZ2V0SW1nQXR0ciA9IGltYWdlLmdldEF0dHJpYnV0ZTtcbiAgdmFyIHNldEltZ0F0dHIgPSBpbWFnZS5zZXRBdHRyaWJ1dGU7XG4gIHZhciByZW1vdmVJbWdBdHRyID0gaW1hZ2UucmVtb3ZlQXR0cmlidXRlO1xuICB2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHR5cGVzID0ge307XG4gIHZhciBjZmcgPSB7XG4gICAgLy9yZXNvdXJjZSBzZWxlY3Rpb246XG4gICAgYWxnb3JpdGhtOiBcIlwiXG4gIH07XG4gIHZhciBzcmNBdHRyID0gXCJkYXRhLXBmc3JjXCI7XG4gIHZhciBzcmNzZXRBdHRyID0gc3JjQXR0ciArIFwic2V0XCI7XG4gIC8vIHVhIHNuaWZmaW5nIGlzIGRvbmUgZm9yIHVuZGV0ZWN0YWJsZSBpbWcgbG9hZGluZyBmZWF0dXJlcyxcbiAgLy8gdG8gZG8gc29tZSBub24gY3J1Y2lhbCBwZXJmIG9wdGltaXphdGlvbnNcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgdmFyIHN1cHBvcnRBYm9ydCA9ICgvcmlkZW50LykudGVzdCh1YSkgfHwgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA+IDM1ICk7XG4gIHZhciBjdXJTcmNQcm9wID0gXCJjdXJyZW50U3JjXCI7XG4gIHZhciByZWdXRGVzYyA9IC9cXHMrXFwrP1xcZCsoZVxcZCspP3cvO1xuICB2YXIgcmVnU2l6ZSA9IC8oXFwoW14pXStcXCkpP1xccyooLispLztcbiAgdmFyIHNldE9wdGlvbnMgPSB3aW5kb3cucGljdHVyZWZpbGxDRkc7XG4gIC8qKlxuICAgKiBTaG9ydGN1dCBwcm9wZXJ0eSBmb3IgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmFwcHNlYy9zcGVjcy9taXhlZGNvbnRlbnQvI3Jlc3RyaWN0cy1taXhlZC1jb250ZW50ICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqL1xuICAgIC8vIGJhc2VTdHlsZSBhbHNvIHVzZWQgYnkgZ2V0RW1WYWx1ZSAoaS5lLjogd2lkdGg6IDFlbSBpcyBpbXBvcnRhbnQpXG4gIHZhciBiYXNlU3R5bGUgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt2aXNpYmlsaXR5OmhpZGRlbjtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MDtib3JkZXI6bm9uZTtmb250LXNpemU6MWVtO3dpZHRoOjFlbTtvdmVyZmxvdzpoaWRkZW47Y2xpcDpyZWN0KDBweCwgMHB4LCAwcHgsIDBweClcIjtcbiAgdmFyIGZzQ3NzID0gXCJmb250LXNpemU6MTAwJSFpbXBvcnRhbnQ7XCI7XG4gIHZhciBpc1Z3RGlydHkgPSB0cnVlO1xuXG4gIHZhciBjc3NDYWNoZSA9IHt9O1xuICB2YXIgc2l6ZUxlbmd0aENhY2hlID0ge307XG4gIHZhciBEUFIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgdmFyIHVuaXRzID0ge1xuICAgIHB4OiAxLFxuICAgIFwiaW5cIjogOTZcbiAgfTtcbiAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG4gIC8qKlxuICAgKiBhbHJlYWR5UnVuIGZsYWcgdXNlZCBmb3Igc2V0T3B0aW9ucy4gaXMgaXQgdHJ1ZSBzZXRPcHRpb25zIHdpbGwgcmVldmFsdWF0ZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBhbHJlYWR5UnVuID0gZmFsc2U7XG5cbiAgLy8gUmV1c2FibGUsIG5vbi1cImdcIiBSZWdleGVzXG5cbiAgLy8gKERvbid0IHVzZSBcXHMsIHRvIGF2b2lkIG1hdGNoaW5nIG5vbi1icmVha2luZyBzcGFjZS4pXG4gIHZhciByZWdleExlYWRpbmdTcGFjZXMgPSAvXlsgXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICByZWdleExlYWRpbmdDb21tYXNPclNwYWNlcyA9IC9eWywgXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICByZWdleExlYWRpbmdOb3RTcGFjZXMgPSAvXlteIFxcdFxcblxcclxcdTAwMGNdKy8sXG4gICAgcmVnZXhUcmFpbGluZ0NvbW1hcyA9IC9bLF0rJC8sXG4gICAgcmVnZXhOb25OZWdhdGl2ZUludGVnZXIgPSAvXlxcZCskLyxcblxuICAgIC8vICggUG9zaXRpdmUgb3IgbmVnYXRpdmUgb3IgdW5zaWduZWQgaW50ZWdlcnMgb3IgZGVjaW1hbHMsIHdpdGhvdXQgb3Igd2l0aG91dCBleHBvbmVudHMuXG4gICAgLy8gTXVzdCBpbmNsdWRlIGF0IGxlYXN0IG9uZSBkaWdpdC5cbiAgICAvLyBBY2NvcmRpbmcgdG8gc3BlYyB0ZXN0cyBhbnkgZGVjaW1hbCBwb2ludCBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZGlnaXQuXG4gICAgLy8gTm8gbGVhZGluZyBwbHVzIHNpZ24gaXMgYWxsb3dlZC4pXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCN2YWxpZC1mbG9hdGluZy1wb2ludC1udW1iZXJcbiAgICByZWdleEZsb2F0aW5nUG9pbnQgPSAvXi0/KD86WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyQvO1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uKG9iaiwgZXZ0LCBmbiwgY2FwdHVyZSkge1xuICAgIGlmICggb2JqLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG4gICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCBvYmouYXR0YWNoRXZlbnQgKSB7XG4gICAgICBvYmouYXR0YWNoRXZlbnQoIFwib25cIiArIGV2dCwgZm4pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogc2ltcGxlIG1lbW9pemUgZnVuY3Rpb246XG4gICAqL1xuXG4gIHZhciBtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIGlmICggIShpbnB1dCBpbiBjYWNoZSkgKSB7XG4gICAgICAgIGNhY2hlWyBpbnB1dCBdID0gZm4oaW5wdXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlWyBpbnB1dCBdO1xuICAgIH07XG4gIH07XG5cbiAgLy8gVVRJTElUWSBGVU5DVElPTlNcblxuICAvLyBNYW51YWwgaXMgZmFzdGVyIHRoYW4gUmVnRXhcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vd2hpdGVzcGFjZS1jaGFyYWN0ZXIvNVxuICBmdW5jdGlvbiBpc1NwYWNlKGMpIHtcbiAgICByZXR1cm4gKGMgPT09IFwiXFx1MDAyMFwiIHx8IC8vIHNwYWNlXG4gICAgICBjID09PSBcIlxcdTAwMDlcIiB8fCAvLyBob3Jpem9udGFsIHRhYlxuICAgICAgYyA9PT0gXCJcXHUwMDBBXCIgfHwgLy8gbmV3IGxpbmVcbiAgICAgIGMgPT09IFwiXFx1MDAwQ1wiIHx8IC8vIGZvcm0gZmVlZFxuICAgICAgYyA9PT0gXCJcXHUwMDBEXCIpOyAgLy8gY2FycmlhZ2UgcmV0dXJuXG4gIH1cblxuICAvKipcbiAgICogZ2V0cyBhIG1lZGlhcXVlcnkgYW5kIHJldHVybnMgYSBib29sZWFuIG9yIGdldHMgYSBjc3MgbGVuZ3RoIGFuZCByZXR1cm5zIGEgbnVtYmVyXG4gICAqIEBwYXJhbSBjc3MgbWVkaWFxdWVyaWVzIG9yIGNzcyBsZW5ndGhcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVtYmVyfVxuICAgKlxuICAgKiBiYXNlZCBvbjogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9uYXRoYW50bmVhbC9kYjRmNzcwMDliMTU1ZjA4MzczOFxuICAgKi9cbiAgdmFyIGV2YWxDU1MgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcmVnTGVuZ3RoID0gL14oW1xcZFxcLl0rKShlbXx2d3xweCkkLztcbiAgICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsIGluZGV4ID0gMCwgc3RyaW5nID0gYXJnc1swXTtcbiAgICAgIHdoaWxlICgrK2luZGV4IGluIGFyZ3MpIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoYXJnc1tpbmRleF0sIGFyZ3NbKytpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9O1xuXG4gICAgdmFyIGJ1aWxkU3RyID0gbWVtb2l6ZShmdW5jdGlvbihjc3MpIHtcblxuICAgICAgcmV0dXJuIFwicmV0dXJuIFwiICsgcmVwbGFjZSgoY3NzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIC8vIGludGVycHJldCBgYW5kYFxuICAgICAgICAvXFxiYW5kXFxiL2csIFwiJiZcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYCxgXG4gICAgICAgIC8sL2csIFwifHxcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYG1pbi1gIGFzID49XG4gICAgICAgIC9taW4tKFthLXotXFxzXSspOi9nLCBcImUuJDE+PVwiLFxuXG4gICAgICAgIC8vIGludGVycHJldCBgbWF4LWAgYXMgPD1cbiAgICAgICAgL21heC0oW2Etei1cXHNdKyk6L2csIFwiZS4kMTw9XCIsXG5cbiAgICAgICAgLy9jYWxjIHZhbHVlXG4gICAgICAgIC9jYWxjKFteKV0rKS9nLCBcIigkMSlcIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgY3NzIHZhbHVlc1xuICAgICAgICAvKFxcZCtbXFwuXSpbXFxkXSopKFthLXpdKykvZywgXCIoJDEgKiBlLiQyKVwiLFxuICAgICAgICAvL21ha2UgZXZhbCBsZXNzIGV2aWxcbiAgICAgICAgL14oPyEoZS5bYS16XXxbMC05XFwuJj18PjxcXCtcXC1cXCpcXChcXClcXC9dKSkuKi9pZywgXCJcIlxuICAgICAgKSArIFwiO1wiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNzcywgbGVuZ3RoKSB7XG4gICAgICB2YXIgcGFyc2VkTGVuZ3RoO1xuICAgICAgaWYgKCEoY3NzIGluIGNzc0NhY2hlKSkge1xuICAgICAgICBjc3NDYWNoZVtjc3NdID0gZmFsc2U7XG4gICAgICAgIGlmIChsZW5ndGggJiYgKHBhcnNlZExlbmd0aCA9IGNzcy5tYXRjaCggcmVnTGVuZ3RoICkpKSB7XG4gICAgICAgICAgY3NzQ2FjaGVbY3NzXSA9IHBhcnNlZExlbmd0aFsgMSBdICogdW5pdHNbcGFyc2VkTGVuZ3RoWyAyIF1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qanNoaW50IGV2aWw6dHJ1ZSAqL1xuICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgIGNzc0NhY2hlW2Nzc10gPSBuZXcgRnVuY3Rpb24oXCJlXCIsIGJ1aWxkU3RyKGNzcykpKHVuaXRzKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgICAgLypqc2hpbnQgZXZpbDpmYWxzZSAqL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3NzQ2FjaGVbY3NzXTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIHZhciBzZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24oIGNhbmRpZGF0ZSwgc2l6ZXNhdHRyICkge1xuICAgIGlmICggY2FuZGlkYXRlLncgKSB7IC8vIGggPSBtZWFucyBoZWlnaHQ6IHx8IGRlc2NyaXB0b3IudHlwZSA9PT0gJ2gnIGRvIG5vdCBoYW5kbGUgeWV0Li4uXG4gICAgICBjYW5kaWRhdGUuY1dpZHRoID0gcGYuY2FsY0xpc3RMZW5ndGgoIHNpemVzYXR0ciB8fCBcIjEwMHZ3XCIgKTtcbiAgICAgIGNhbmRpZGF0ZS5yZXMgPSBjYW5kaWRhdGUudyAvIGNhbmRpZGF0ZS5jV2lkdGggO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW5kaWRhdGUucmVzID0gY2FuZGlkYXRlLmQ7XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBvcHRcbiAgICovXG4gIHZhciBwaWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCBvcHQgKSB7XG5cbiAgICBpZiAoIWlzU3VwcG9ydFRlc3RSZWFkeSkge3JldHVybjt9XG5cbiAgICB2YXIgZWxlbWVudHMsIGksIHBsZW47XG5cbiAgICB2YXIgb3B0aW9ucyA9IG9wdCB8fCB7fTtcblxuICAgIGlmICggb3B0aW9ucy5lbGVtZW50cyAmJiBvcHRpb25zLmVsZW1lbnRzLm5vZGVUeXBlID09PSAxICkge1xuICAgICAgaWYgKCBvcHRpb25zLmVsZW1lbnRzLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiSU1HXCIgKSB7XG4gICAgICAgIG9wdGlvbnMuZWxlbWVudHMgPSAgWyBvcHRpb25zLmVsZW1lbnRzIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmNvbnRleHQgPSBvcHRpb25zLmVsZW1lbnRzO1xuICAgICAgICBvcHRpb25zLmVsZW1lbnRzID0gIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWxlbWVudHMgPSBvcHRpb25zLmVsZW1lbnRzIHx8IHBmLnFzYSggKG9wdGlvbnMuY29udGV4dCB8fCBkb2N1bWVudCksICggb3B0aW9ucy5yZWV2YWx1YXRlIHx8IG9wdGlvbnMucmVzZWxlY3QgKSA/IHBmLnNlbCA6IHBmLnNlbFNob3J0ICk7XG5cbiAgICBpZiAoIChwbGVuID0gZWxlbWVudHMubGVuZ3RoKSApIHtcblxuICAgICAgcGYuc2V0dXBSdW4oIG9wdGlvbnMgKTtcbiAgICAgIGFscmVhZHlSdW4gPSB0cnVlO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzXG4gICAgICBmb3IgKCBpID0gMDsgaSA8IHBsZW47IGkrKyApIHtcbiAgICAgICAgcGYuZmlsbEltZyhlbGVtZW50c1sgaSBdLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcGYudGVhcmRvd25SdW4oIG9wdGlvbnMgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIG91dHB1dHMgYSB3YXJuaW5nIGZvciB0aGUgZGV2ZWxvcGVyXG4gICAqIEBwYXJhbSB7bWVzc2FnZX1cbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgd2FybiA9ICggd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS53YXJuICkgP1xuICAgIGZ1bmN0aW9uKCBtZXNzYWdlICkge1xuICAgICAgY29uc29sZS53YXJuKCBtZXNzYWdlICk7XG4gICAgfSA6XG4gICAgbm9vcFxuICA7XG5cbiAgaWYgKCAhKGN1clNyY1Byb3AgaW4gaW1hZ2UpICkge1xuICAgIGN1clNyY1Byb3AgPSBcInNyY1wiO1xuICB9XG5cbiAgLy8gQWRkIHN1cHBvcnQgZm9yIHN0YW5kYXJkIG1pbWUgdHlwZXMuXG4gIHR5cGVzWyBcImltYWdlL2pwZWdcIiBdID0gdHJ1ZTtcbiAgdHlwZXNbIFwiaW1hZ2UvZ2lmXCIgXSA9IHRydWU7XG4gIHR5cGVzWyBcImltYWdlL3BuZ1wiIF0gPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRldGVjdFR5cGVTdXBwb3J0KCB0eXBlLCB0eXBlVXJpICkge1xuICAgIC8vIGJhc2VkIG9uIE1vZGVybml6cidzIGxvc3NsZXNzIGltZy13ZWJwIHRlc3RcbiAgICAvLyBub3RlOiBhc3luY2hyb25vdXNcbiAgICB2YXIgaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHlwZXNbIHR5cGUgXSA9IGZhbHNlO1xuICAgICAgcGljdHVyZWZpbGwoKTtcbiAgICB9O1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHlwZXNbIHR5cGUgXSA9IGltYWdlLndpZHRoID09PSAxO1xuICAgICAgcGljdHVyZWZpbGwoKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHR5cGVVcmk7XG4gICAgcmV0dXJuIFwicGVuZGluZ1wiO1xuICB9XG5cbiAgLy8gdGVzdCBzdmcgc3VwcG9ydFxuICB0eXBlc1sgXCJpbWFnZS9zdmcreG1sXCIgXSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoIFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLCBcIjEuMVwiICk7XG5cbiAgLyoqXG4gICAqIHVwZGF0ZXMgdGhlIGludGVybmFsIHZXIHByb3BlcnR5IHdpdGggdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lkdGggaW4gcHhcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZU1ldHJpY3MoKSB7XG5cbiAgICBpc1Z3RGlydHkgPSBmYWxzZTtcbiAgICBEUFIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjc3NDYWNoZSA9IHt9O1xuICAgIHNpemVMZW5ndGhDYWNoZSA9IHt9O1xuXG4gICAgcGYuRFBSID0gRFBSIHx8IDE7XG5cbiAgICB1bml0cy53aWR0aCA9IE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoIHx8IDAsIGRvY0VsZW0uY2xpZW50V2lkdGgpO1xuICAgIHVuaXRzLmhlaWdodCA9IE1hdGgubWF4KHdpbmRvdy5pbm5lckhlaWdodCB8fCAwLCBkb2NFbGVtLmNsaWVudEhlaWdodCk7XG5cbiAgICB1bml0cy52dyA9IHVuaXRzLndpZHRoIC8gMTAwO1xuICAgIHVuaXRzLnZoID0gdW5pdHMuaGVpZ2h0IC8gMTAwO1xuXG4gICAgZXZhbElkID0gWyB1bml0cy5oZWlnaHQsIHVuaXRzLndpZHRoLCBEUFIgXS5qb2luKFwiLVwiKTtcblxuICAgIHVuaXRzLmVtID0gcGYuZ2V0RW1WYWx1ZSgpO1xuICAgIHVuaXRzLnJlbSA9IHVuaXRzLmVtO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hvb3NlTG93UmVzKCBsb3dlclZhbHVlLCBoaWdoZXJWYWx1ZSwgZHByVmFsdWUsIGlzQ2FjaGVkICkge1xuICAgIHZhciBib251c0ZhY3RvciwgdG9vTXVjaCwgYm9udXMsIG1lYW5EZW5zaXR5O1xuXG4gICAgLy9leHBlcmltZW50YWxcbiAgICBpZiAoY2ZnLmFsZ29yaXRobSA9PT0gXCJzYXZlRGF0YVwiICl7XG4gICAgICBpZiAoIGxvd2VyVmFsdWUgPiAyLjcgKSB7XG4gICAgICAgIG1lYW5EZW5zaXR5ID0gZHByVmFsdWUgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9vTXVjaCA9IGhpZ2hlclZhbHVlIC0gZHByVmFsdWU7XG4gICAgICAgIGJvbnVzRmFjdG9yID0gTWF0aC5wb3cobG93ZXJWYWx1ZSAtIDAuNiwgMS41KTtcblxuICAgICAgICBib251cyA9IHRvb011Y2ggKiBib251c0ZhY3RvcjtcblxuICAgICAgICBpZiAoaXNDYWNoZWQpIHtcbiAgICAgICAgICBib251cyArPSAwLjEgKiBib251c0ZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lYW5EZW5zaXR5ID0gbG93ZXJWYWx1ZSArIGJvbnVzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZWFuRGVuc2l0eSA9IChkcHJWYWx1ZSA+IDEpID9cbiAgICAgICAgTWF0aC5zcXJ0KGxvd2VyVmFsdWUgKiBoaWdoZXJWYWx1ZSkgOlxuICAgICAgICBsb3dlclZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBtZWFuRGVuc2l0eSA+IGRwclZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlCZXN0Q2FuZGlkYXRlKCBpbWcgKSB7XG4gICAgdmFyIHNyY1NldENhbmRpZGF0ZXM7XG4gICAgdmFyIG1hdGNoaW5nU2V0ID0gcGYuZ2V0U2V0KCBpbWcgKTtcbiAgICB2YXIgZXZhbHVhdGVkID0gZmFsc2U7XG4gICAgaWYgKCBtYXRjaGluZ1NldCAhPT0gXCJwZW5kaW5nXCIgKSB7XG4gICAgICBldmFsdWF0ZWQgPSBldmFsSWQ7XG4gICAgICBpZiAoIG1hdGNoaW5nU2V0ICkge1xuICAgICAgICBzcmNTZXRDYW5kaWRhdGVzID0gcGYuc2V0UmVzKCBtYXRjaGluZ1NldCApO1xuICAgICAgICBwZi5hcHBseVNldENhbmRpZGF0ZSggc3JjU2V0Q2FuZGlkYXRlcywgaW1nICk7XG4gICAgICB9XG4gICAgfVxuICAgIGltZ1sgcGYubnMgXS5ldmFsZWQgPSBldmFsdWF0ZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhc2NlbmRpbmdTb3J0KCBhLCBiICkge1xuICAgIHJldHVybiBhLnJlcyAtIGIucmVzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3JjVG9DdXIoIGltZywgc3JjLCBzZXQgKSB7XG4gICAgdmFyIGNhbmRpZGF0ZTtcbiAgICBpZiAoICFzZXQgJiYgc3JjICkge1xuICAgICAgc2V0ID0gaW1nWyBwZi5ucyBdLnNldHM7XG4gICAgICBzZXQgPSBzZXQgJiYgc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBjYW5kaWRhdGUgPSBnZXRDYW5kaWRhdGVGb3JTcmMoc3JjLCBzZXQpO1xuXG4gICAgaWYgKCBjYW5kaWRhdGUgKSB7XG4gICAgICBzcmMgPSBwZi5tYWtlVXJsKHNyYyk7XG4gICAgICBpbWdbIHBmLm5zIF0uY3VyU3JjID0gc3JjO1xuICAgICAgaW1nWyBwZi5ucyBdLmN1ckNhbiA9IGNhbmRpZGF0ZTtcblxuICAgICAgaWYgKCAhY2FuZGlkYXRlLnJlcyApIHtcbiAgICAgICAgc2V0UmVzb2x1dGlvbiggY2FuZGlkYXRlLCBjYW5kaWRhdGUuc2V0LnNpemVzICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDYW5kaWRhdGVGb3JTcmMoIHNyYywgc2V0ICkge1xuICAgIHZhciBpLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZXM7XG4gICAgaWYgKCBzcmMgJiYgc2V0ICkge1xuICAgICAgY2FuZGlkYXRlcyA9IHBmLnBhcnNlU2V0KCBzZXQgKTtcbiAgICAgIHNyYyA9IHBmLm1ha2VVcmwoc3JjKTtcbiAgICAgIGZvciAoIGkgPSAwOyBpIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgaWYgKCBzcmMgPT09IHBmLm1ha2VVcmwoY2FuZGlkYXRlc1sgaSBdLnVybCkgKSB7XG4gICAgICAgICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbGxTb3VyY2VFbGVtZW50cyggcGljdHVyZSwgY2FuZGlkYXRlcyApIHtcbiAgICB2YXIgaSwgbGVuLCBzb3VyY2UsIHNyY3NldDtcblxuICAgIC8vIFNQRUMgbWlzbWF0Y2ggaW50ZW5kZWQgZm9yIHNpemUgYW5kIHBlcmY6XG4gICAgLy8gYWN0dWFsbHkgb25seSBzb3VyY2UgZWxlbWVudHMgcHJlY2VkaW5nIHRoZSBpbWcgc2hvdWxkIGJlIHVzZWRcbiAgICAvLyBhbHNvIG5vdGU6IGRvbid0IHVzZSBxc2EgaGVyZSwgYmVjYXVzZSBJRTggc29tZXRpbWVzIGRvZXNuJ3QgbGlrZSBzb3VyY2UgYXMgdGhlIGtleSBwYXJ0IGluIGEgc2VsZWN0b3JcbiAgICB2YXIgc291cmNlcyA9IHBpY3R1cmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwic291cmNlXCIgKTtcblxuICAgIGZvciAoIGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgc291cmNlID0gc291cmNlc1sgaSBdO1xuICAgICAgc291cmNlWyBwZi5ucyBdID0gdHJ1ZTtcbiAgICAgIHNyY3NldCA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic3Jjc2V0XCIgKTtcblxuICAgICAgLy8gaWYgc291cmNlIGRvZXMgbm90IGhhdmUgYSBzcmNzZXQgYXR0cmlidXRlLCBza2lwXG4gICAgICBpZiAoIHNyY3NldCApIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKCB7XG4gICAgICAgICAgc3Jjc2V0OiBzcmNzZXQsXG4gICAgICAgICAgbWVkaWE6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwibWVkaWFcIiApLFxuICAgICAgICAgIHR5cGU6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICksXG4gICAgICAgICAgc2l6ZXM6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic2l6ZXNcIiApXG4gICAgICAgIH0gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Jjc2V0IFBhcnNlclxuICAgKiBCeSBBbGV4IEJlbGwgfCAgTUlUIExpY2Vuc2VcbiAgICpcbiAgICogQHJldHVybnMgQXJyYXkgW3t1cmw6IF8sIGQ6IF8sIHc6IF8sIGg6Xywgc2V0Ol8oPz8/Pyl9LCAuLi5dXG4gICAqXG4gICAqIEJhc2VkIHN1cGVyIGR1cGVyIGNsb3NlbHkgb24gdGhlIHJlZmVyZW5jZSBhbGdvcml0aG0gYXQ6XG4gICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNwYXJzZS1hLXNyY3NldC1hdHRyaWJ1dGVcbiAgICovXG5cbiAgLy8gMS4gTGV0IGlucHV0IGJlIHRoZSB2YWx1ZSBwYXNzZWQgdG8gdGhpcyBhbGdvcml0aG0uXG4gIC8vIChUTy1ETyA6IEV4cGxhaW4gd2hhdCBcInNldFwiIGFyZ3VtZW50IGlzIGhlcmUuIE1heWJlIGNob29zZSBhIG1vcmVcbiAgLy8gZGVzY3JpcHRpdmUgJiBtb3JlIHNlYXJjaGFibGUgbmFtZS4gIFNpbmNlIHBhc3NpbmcgdGhlIFwic2V0XCIgaW4gcmVhbGx5IGhhc1xuICAvLyBub3RoaW5nIHRvIGRvIHdpdGggcGFyc2luZyBwcm9wZXIsIEkgd291bGQgcHJlZmVyIHRoaXMgYXNzaWdubWVudCBldmVudHVhbGx5XG4gIC8vIGdvIGluIGFuIGV4dGVybmFsIGZuLilcbiAgZnVuY3Rpb24gcGFyc2VTcmNzZXQoaW5wdXQsIHNldCkge1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdENoYXJhY3RlcnMocmVnRXgpIHtcbiAgICAgIHZhciBjaGFycyxcbiAgICAgICAgbWF0Y2ggPSByZWdFeC5leGVjKGlucHV0LnN1YnN0cmluZyhwb3MpKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjaGFycyA9IG1hdGNoWyAwIF07XG4gICAgICAgIHBvcyArPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGFycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG4gICAgICB1cmwsXG4gICAgICBkZXNjcmlwdG9ycyxcbiAgICAgIGN1cnJlbnREZXNjcmlwdG9yLFxuICAgICAgc3RhdGUsXG4gICAgICBjLFxuXG4gICAgICAvLyAyLiBMZXQgcG9zaXRpb24gYmUgYSBwb2ludGVyIGludG8gaW5wdXQsIGluaXRpYWxseSBwb2ludGluZyBhdCB0aGUgc3RhcnRcbiAgICAgIC8vICAgIG9mIHRoZSBzdHJpbmcuXG4gICAgICBwb3MgPSAwLFxuXG4gICAgICAvLyAzLiBMZXQgY2FuZGlkYXRlcyBiZSBhbiBpbml0aWFsbHkgZW1wdHkgc291cmNlIHNldC5cbiAgICAgIGNhbmRpZGF0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIHRvIGEgY2FuZGlkYXRlLCBwdXNoZXMgdG8gdGhlIGNhbmRpZGF0ZXMgYXJyYXlcbiAgICAgKiBAcmV0dXJuIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIC8vIChEZWNsYXJlZCBvdXRzaWRlIG9mIHRoZSB3aGlsZSBsb29wIHNvIHRoYXQgaXQncyBvbmx5IGNyZWF0ZWQgb25jZS5cbiAgICAvLyAoVGhpcyBmbiBpcyBkZWZpbmVkIGJlZm9yZSBpdCBpcyB1c2VkLCBpbiBvcmRlciB0byBwYXNzIEpTSElOVC5cbiAgICAvLyBVbmZvcnR1bmF0ZWx5IHRoaXMgYnJlYWtzIHRoZSBzZXF1ZW5jaW5nIG9mIHRoZSBzcGVjIGNvbW1lbnRzLiA6LyApXG4gICAgZnVuY3Rpb24gcGFyc2VEZXNjcmlwdG9ycygpIHtcblxuICAgICAgLy8gOS4gRGVzY3JpcHRvciBwYXJzZXI6IExldCBlcnJvciBiZSBuby5cbiAgICAgIHZhciBwRXJyb3IgPSBmYWxzZSxcblxuICAgICAgICAvLyAxMC4gTGV0IHdpZHRoIGJlIGFic2VudC5cbiAgICAgICAgLy8gMTEuIExldCBkZW5zaXR5IGJlIGFic2VudC5cbiAgICAgICAgLy8gMTIuIExldCBmdXR1cmUtY29tcGF0LWggYmUgYWJzZW50LiAoV2UncmUgaW1wbGVtZW50aW5nIGl0IG5vdyBhcyBoKVxuICAgICAgICB3LCBkLCBoLCBpLFxuICAgICAgICBjYW5kaWRhdGUgPSB7fSxcbiAgICAgICAgZGVzYywgbGFzdENoYXIsIHZhbHVlLCBpbnRWYWwsIGZsb2F0VmFsO1xuXG4gICAgICAvLyAxMy4gRm9yIGVhY2ggZGVzY3JpcHRvciBpbiBkZXNjcmlwdG9ycywgcnVuIHRoZSBhcHByb3ByaWF0ZSBzZXQgb2Ygc3RlcHNcbiAgICAgIC8vIGZyb20gdGhlIGZvbGxvd2luZyBsaXN0OlxuICAgICAgZm9yIChpID0gMCA7IGkgPCBkZXNjcmlwdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkZXNjID0gZGVzY3JpcHRvcnNbIGkgXTtcblxuICAgICAgICBsYXN0Q2hhciA9IGRlc2NbIGRlc2MubGVuZ3RoIC0gMSBdO1xuICAgICAgICB2YWx1ZSA9IGRlc2Muc3Vic3RyaW5nKDAsIGRlc2MubGVuZ3RoIC0gMSk7XG4gICAgICAgIGludFZhbCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgIGZsb2F0VmFsID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRlc2NyaXB0b3IgY29uc2lzdHMgb2YgYSB2YWxpZCBub24tbmVnYXRpdmUgaW50ZWdlciBmb2xsb3dlZCBieVxuICAgICAgICAvLyBhIFUrMDA3NyBMQVRJTiBTTUFMTCBMRVRURVIgVyBjaGFyYWN0ZXJcbiAgICAgICAgaWYgKHJlZ2V4Tm9uTmVnYXRpdmVJbnRlZ2VyLnRlc3QodmFsdWUpICYmIChsYXN0Q2hhciA9PT0gXCJ3XCIpKSB7XG5cbiAgICAgICAgICAvLyBJZiB3aWR0aCBhbmQgZGVuc2l0eSBhcmUgbm90IGJvdGggYWJzZW50LCB0aGVuIGxldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgICAgaWYgKHcgfHwgZCkge3BFcnJvciA9IHRydWU7fVxuXG4gICAgICAgICAgLy8gQXBwbHkgdGhlIHJ1bGVzIGZvciBwYXJzaW5nIG5vbi1uZWdhdGl2ZSBpbnRlZ2VycyB0byB0aGUgZGVzY3JpcHRvci5cbiAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHplcm8sIGxldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBsZXQgd2lkdGggYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoaW50VmFsID09PSAwKSB7cEVycm9yID0gdHJ1ZTt9IGVsc2Uge3cgPSBpbnRWYWw7fVxuXG4gICAgICAgICAgLy8gSWYgdGhlIGRlc2NyaXB0b3IgY29uc2lzdHMgb2YgYSB2YWxpZCBmbG9hdGluZy1wb2ludCBudW1iZXIgZm9sbG93ZWQgYnlcbiAgICAgICAgICAvLyBhIFUrMDA3OCBMQVRJTiBTTUFMTCBMRVRURVIgWCBjaGFyYWN0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChyZWdleEZsb2F0aW5nUG9pbnQudGVzdCh2YWx1ZSkgJiYgKGxhc3RDaGFyID09PSBcInhcIikpIHtcblxuICAgICAgICAgIC8vIElmIHdpZHRoLCBkZW5zaXR5IGFuZCBmdXR1cmUtY29tcGF0LWggYXJlIG5vdCBhbGwgYWJzZW50LCB0aGVuIGxldCBlcnJvclxuICAgICAgICAgIC8vIGJlIHllcy5cbiAgICAgICAgICBpZiAodyB8fCBkIHx8IGgpIHtwRXJyb3IgPSB0cnVlO31cblxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBydWxlcyBmb3IgcGFyc2luZyBmbG9hdGluZy1wb2ludCBudW1iZXIgdmFsdWVzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgbGVzcyB0aGFuIHplcm8sIGxldCBlcnJvciBiZSB5ZXMuIE90aGVyd2lzZSwgbGV0IGRlbnNpdHlcbiAgICAgICAgICAvLyBiZSB0aGUgcmVzdWx0LlxuICAgICAgICAgIGlmIChmbG9hdFZhbCA8IDApIHtwRXJyb3IgPSB0cnVlO30gZWxzZSB7ZCA9IGZsb2F0VmFsO31cblxuICAgICAgICAgIC8vIElmIHRoZSBkZXNjcmlwdG9yIGNvbnNpc3RzIG9mIGEgdmFsaWQgbm9uLW5lZ2F0aXZlIGludGVnZXIgZm9sbG93ZWQgYnlcbiAgICAgICAgICAvLyBhIFUrMDA2OCBMQVRJTiBTTUFMTCBMRVRURVIgSCBjaGFyYWN0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChyZWdleE5vbk5lZ2F0aXZlSW50ZWdlci50ZXN0KHZhbHVlKSAmJiAobGFzdENoYXIgPT09IFwiaFwiKSkge1xuXG4gICAgICAgICAgLy8gSWYgaGVpZ2h0IGFuZCBkZW5zaXR5IGFyZSBub3QgYm90aCBhYnNlbnQsIHRoZW4gbGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgICBpZiAoaCB8fCBkKSB7cEVycm9yID0gdHJ1ZTt9XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgcnVsZXMgZm9yIHBhcnNpbmcgbm9uLW5lZ2F0aXZlIGludGVnZXJzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgemVybywgbGV0IGVycm9yIGJlIHllcy4gT3RoZXJ3aXNlLCBsZXQgZnV0dXJlLWNvbXBhdC1oXG4gICAgICAgICAgLy8gYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoaW50VmFsID09PSAwKSB7cEVycm9yID0gdHJ1ZTt9IGVsc2Uge2ggPSBpbnRWYWw7fVxuXG4gICAgICAgICAgLy8gQW55dGhpbmcgZWxzZSwgTGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgfSBlbHNlIHtwRXJyb3IgPSB0cnVlO31cbiAgICAgIH0gLy8gKGNsb3NlIHN0ZXAgMTMgZm9yIGxvb3ApXG5cbiAgICAgIC8vIDE1LiBJZiBlcnJvciBpcyBzdGlsbCBubywgdGhlbiBhcHBlbmQgYSBuZXcgaW1hZ2Ugc291cmNlIHRvIGNhbmRpZGF0ZXMgd2hvc2VcbiAgICAgIC8vIFVSTCBpcyB1cmwsIGFzc29jaWF0ZWQgd2l0aCBhIHdpZHRoIHdpZHRoIGlmIG5vdCBhYnNlbnQgYW5kIGEgcGl4ZWxcbiAgICAgIC8vIGRlbnNpdHkgZGVuc2l0eSBpZiBub3QgYWJzZW50LiBPdGhlcndpc2UsIHRoZXJlIGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgICBpZiAoIXBFcnJvcikge1xuICAgICAgICBjYW5kaWRhdGUudXJsID0gdXJsO1xuXG4gICAgICAgIGlmICh3KSB7IGNhbmRpZGF0ZS53ID0gdzt9XG4gICAgICAgIGlmIChkKSB7IGNhbmRpZGF0ZS5kID0gZDt9XG4gICAgICAgIGlmIChoKSB7IGNhbmRpZGF0ZS5oID0gaDt9XG4gICAgICAgIGlmICghaCAmJiAhZCAmJiAhdykge2NhbmRpZGF0ZS5kID0gMTt9XG4gICAgICAgIGlmIChjYW5kaWRhdGUuZCA9PT0gMSkge3NldC5oYXMxeCA9IHRydWU7fVxuICAgICAgICBjYW5kaWRhdGUuc2V0ID0gc2V0O1xuXG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgfVxuICAgIH0gLy8gKGNsb3NlIHBhcnNlRGVzY3JpcHRvcnMgZm4pXG5cbiAgICAvKipcbiAgICAgKiBUb2tlbml6ZXMgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIHByaW9yIHRvIHBhcnNpbmdcbiAgICAgKiBSZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKiAoQWdhaW4sIHRoaXMgZm4gaXMgZGVmaW5lZCBiZWZvcmUgaXQgaXMgdXNlZCwgaW4gb3JkZXIgdG8gcGFzcyBKU0hJTlQuXG4gICAgICogVW5mb3J0dW5hdGVseSB0aGlzIGJyZWFrcyB0aGUgbG9naWNhbCBzZXF1ZW5jaW5nIG9mIHRoZSBzcGVjIGNvbW1lbnRzLiA6LyApXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9rZW5pemUoKSB7XG5cbiAgICAgIC8vIDguMS4gRGVzY3JpcHRvciB0b2tlbmlzZXI6IFNraXAgd2hpdGVzcGFjZVxuICAgICAgY29sbGVjdENoYXJhY3RlcnMocmVnZXhMZWFkaW5nU3BhY2VzKTtcblxuICAgICAgLy8gOC4yLiBMZXQgY3VycmVudCBkZXNjcmlwdG9yIGJlIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICBjdXJyZW50RGVzY3JpcHRvciA9IFwiXCI7XG5cbiAgICAgIC8vIDguMy4gTGV0IHN0YXRlIGJlIGluIGRlc2NyaXB0b3IuXG4gICAgICBzdGF0ZSA9IFwiaW4gZGVzY3JpcHRvclwiO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuXG4gICAgICAgIC8vIDguNC4gTGV0IGMgYmUgdGhlIGNoYXJhY3RlciBhdCBwb3NpdGlvbi5cbiAgICAgICAgYyA9IGlucHV0LmNoYXJBdChwb3MpO1xuXG4gICAgICAgIC8vICBEbyB0aGUgZm9sbG93aW5nIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2Ygc3RhdGUuXG4gICAgICAgIC8vICBGb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBzdGVwLCBcIkVPRlwiIGlzIGEgc3BlY2lhbCBjaGFyYWN0ZXIgcmVwcmVzZW50aW5nXG4gICAgICAgIC8vICB0aGF0IHBvc2l0aW9uIGlzIHBhc3QgdGhlIGVuZCBvZiBpbnB1dC5cblxuICAgICAgICAvLyBJbiBkZXNjcmlwdG9yXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gXCJpbiBkZXNjcmlwdG9yXCIpIHtcbiAgICAgICAgICAvLyBEbyB0aGUgZm9sbG93aW5nLCBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIGM6XG5cbiAgICAgICAgICAvLyBTcGFjZSBjaGFyYWN0ZXJcbiAgICAgICAgICAvLyBJZiBjdXJyZW50IGRlc2NyaXB0b3IgaXMgbm90IGVtcHR5LCBhcHBlbmQgY3VycmVudCBkZXNjcmlwdG9yIHRvXG4gICAgICAgICAgLy8gZGVzY3JpcHRvcnMgYW5kIGxldCBjdXJyZW50IGRlc2NyaXB0b3IgYmUgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgICAgICAvLyBTZXQgc3RhdGUgdG8gYWZ0ZXIgZGVzY3JpcHRvci5cbiAgICAgICAgICBpZiAoaXNTcGFjZShjKSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnREZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0b3JzLnB1c2goY3VycmVudERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IFwiXCI7XG4gICAgICAgICAgICAgIHN0YXRlID0gXCJhZnRlciBkZXNjcmlwdG9yXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFUrMDAyQyBDT01NQSAoLClcbiAgICAgICAgICAgIC8vIEFkdmFuY2UgcG9zaXRpb24gdG8gdGhlIG5leHQgY2hhcmFjdGVyIGluIGlucHV0LiBJZiBjdXJyZW50IGRlc2NyaXB0b3JcbiAgICAgICAgICAgIC8vIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0byBkZXNjcmlwdG9ycy4gSnVtcCB0byB0aGUgc3RlcFxuICAgICAgICAgICAgLy8gbGFiZWxlZCBkZXNjcmlwdG9yIHBhcnNlci5cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IFwiLFwiKSB7XG4gICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gVSswMDI4IExFRlQgUEFSRU5USEVTSVMgKCgpXG4gICAgICAgICAgICAvLyBBcHBlbmQgYyB0byBjdXJyZW50IGRlc2NyaXB0b3IuIFNldCBzdGF0ZSB0byBpbiBwYXJlbnMuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlxcdTAwMjhcIikge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgICBzdGF0ZSA9IFwiaW4gcGFyZW5zXCI7XG5cbiAgICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgICAgLy8gSWYgY3VycmVudCBkZXNjcmlwdG9yIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0b1xuICAgICAgICAgICAgLy8gZGVzY3JpcHRvcnMuIEp1bXAgdG8gdGhlIHN0ZXAgbGFiZWxlZCBkZXNjcmlwdG9yIHBhcnNlci5cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gQW55dGhpbmcgZWxzZVxuICAgICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IGN1cnJlbnREZXNjcmlwdG9yICsgYztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gKGVuZCBcImluIGRlc2NyaXB0b3JcIlxuXG4gICAgICAgICAgLy8gSW4gcGFyZW5zXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFwiaW4gcGFyZW5zXCIpIHtcblxuICAgICAgICAgIC8vIFUrMDAyOSBSSUdIVCBQQVJFTlRIRVNJUyAoKSlcbiAgICAgICAgICAvLyBBcHBlbmQgYyB0byBjdXJyZW50IGRlc2NyaXB0b3IuIFNldCBzdGF0ZSB0byBpbiBkZXNjcmlwdG9yLlxuICAgICAgICAgIGlmIChjID09PSBcIilcIikge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgICBzdGF0ZSA9IFwiaW4gZGVzY3JpcHRvclwiO1xuXG4gICAgICAgICAgICAvLyBFT0ZcbiAgICAgICAgICAgIC8vIEFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG8gZGVzY3JpcHRvcnMuIEp1bXAgdG8gdGhlIHN0ZXAgbGFiZWxlZFxuICAgICAgICAgICAgLy8gZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gQW55dGhpbmcgZWxzZVxuICAgICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IGN1cnJlbnREZXNjcmlwdG9yICsgYztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBZnRlciBkZXNjcmlwdG9yXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFwiYWZ0ZXIgZGVzY3JpcHRvclwiKSB7XG5cbiAgICAgICAgICAvLyBEbyB0aGUgZm9sbG93aW5nLCBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIGM6XG4gICAgICAgICAgLy8gU3BhY2UgY2hhcmFjdGVyOiBTdGF5IGluIHRoaXMgc3RhdGUuXG4gICAgICAgICAgaWYgKGlzU3BhY2UoYykpIHtcblxuICAgICAgICAgICAgLy8gRU9GOiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIEFueXRoaW5nIGVsc2VcbiAgICAgICAgICAgIC8vIFNldCBzdGF0ZSB0byBpbiBkZXNjcmlwdG9yLiBTZXQgcG9zaXRpb24gdG8gdGhlIHByZXZpb3VzIGNoYXJhY3RlciBpbiBpbnB1dC5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBcImluIGRlc2NyaXB0b3JcIjtcbiAgICAgICAgICAgIHBvcyAtPSAxO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWR2YW5jZSBwb3NpdGlvbiB0byB0aGUgbmV4dCBjaGFyYWN0ZXIgaW4gaW5wdXQuXG4gICAgICAgIHBvcyArPSAxO1xuXG4gICAgICAgIC8vIFJlcGVhdCB0aGlzIHN0ZXAuXG4gICAgICB9IC8vIChjbG9zZSB3aGlsZSB0cnVlIGxvb3ApXG4gICAgfVxuXG4gICAgLy8gNC4gU3BsaXR0aW5nIGxvb3A6IENvbGxlY3QgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIHRoYXQgYXJlIHNwYWNlXG4gICAgLy8gICAgY2hhcmFjdGVycyBvciBVKzAwMkMgQ09NTUEgY2hhcmFjdGVycy4gSWYgYW55IFUrMDAyQyBDT01NQSBjaGFyYWN0ZXJzXG4gICAgLy8gICAgd2VyZSBjb2xsZWN0ZWQsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29sbGVjdENoYXJhY3RlcnMocmVnZXhMZWFkaW5nQ29tbWFzT3JTcGFjZXMpO1xuXG4gICAgICAvLyA1LiBJZiBwb3NpdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgaW5wdXQsIHJldHVybiBjYW5kaWRhdGVzIGFuZCBhYm9ydCB0aGVzZSBzdGVwcy5cbiAgICAgIGlmIChwb3MgPj0gaW5wdXRMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXM7IC8vICh3ZSdyZSBkb25lLCB0aGlzIGlzIHRoZSBzb2xlIHJldHVybiBwYXRoKVxuICAgICAgfVxuXG4gICAgICAvLyA2LiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBub3Qgc3BhY2UgY2hhcmFjdGVycyxcbiAgICAgIC8vICAgIGFuZCBsZXQgdGhhdCBiZSB1cmwuXG4gICAgICB1cmwgPSBjb2xsZWN0Q2hhcmFjdGVycyhyZWdleExlYWRpbmdOb3RTcGFjZXMpO1xuXG4gICAgICAvLyA3LiBMZXQgZGVzY3JpcHRvcnMgYmUgYSBuZXcgZW1wdHkgbGlzdC5cbiAgICAgIGRlc2NyaXB0b3JzID0gW107XG5cbiAgICAgIC8vIDguIElmIHVybCBlbmRzIHdpdGggYSBVKzAwMkMgQ09NTUEgY2hhcmFjdGVyICgsKSwgZm9sbG93IHRoZXNlIHN1YnN0ZXBzOlxuICAgICAgLy9cdFx0KDEpLiBSZW1vdmUgYWxsIHRyYWlsaW5nIFUrMDAyQyBDT01NQSBjaGFyYWN0ZXJzIGZyb20gdXJsLiBJZiB0aGlzIHJlbW92ZWRcbiAgICAgIC8vICAgICAgICAgbW9yZSB0aGFuIG9uZSBjaGFyYWN0ZXIsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICh1cmwuc2xpY2UoLTEpID09PSBcIixcIikge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShyZWdleFRyYWlsaW5nQ29tbWFzLCBcIlwiKTtcbiAgICAgICAgLy8gKEp1bXAgYWhlYWQgdG8gc3RlcCA5IHRvIHNraXAgdG9rZW5pemF0aW9uIGFuZCBqdXN0IHB1c2ggdGhlIGNhbmRpZGF0ZSkuXG4gICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcblxuICAgICAgICAvL1x0T3RoZXJ3aXNlLCBmb2xsb3cgdGhlc2Ugc3Vic3RlcHM6XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2tlbml6ZSgpO1xuICAgICAgfSAvLyAoY2xvc2UgZWxzZSBvZiBzdGVwIDgpXG5cbiAgICAgIC8vIDE2LiBSZXR1cm4gdG8gdGhlIHN0ZXAgbGFiZWxlZCBzcGxpdHRpbmcgbG9vcC5cbiAgICB9IC8vIChDbG9zZSBvZiBiaWcgd2hpbGUgbG9vcC4pXG4gIH1cblxuICAvKlxuICAgKiBTaXplcyBQYXJzZXJcbiAgICpcbiAgICogQnkgQWxleCBCZWxsIHwgIE1JVCBMaWNlbnNlXG4gICAqXG4gICAqIE5vbi1zdHJpY3QgYnV0IGFjY3VyYXRlIGFuZCBsaWdodHdlaWdodCBKUyBQYXJzZXIgZm9yIHRoZSBzdHJpbmcgdmFsdWUgPGltZyBzaXplcz1cImhlcmVcIj5cbiAgICpcbiAgICogUmVmZXJlbmNlIGFsZ29yaXRobSBhdDpcbiAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3BhcnNlLWEtc2l6ZXMtYXR0cmlidXRlXG4gICAqXG4gICAqIE1vc3QgY29tbWVudHMgYXJlIGNvcGllZCBpbiBkaXJlY3RseSBmcm9tIHRoZSBzcGVjXG4gICAqIChleGNlcHQgZm9yIGNvbW1lbnRzIGluIHBhcmVucykuXG4gICAqXG4gICAqIEdyYW1tYXIgaXM6XG4gICAqIDxzb3VyY2Utc2l6ZS1saXN0PiA9IDxzb3VyY2Utc2l6ZT4jIFsgLCA8c291cmNlLXNpemUtdmFsdWU+IF0/IHwgPHNvdXJjZS1zaXplLXZhbHVlPlxuICAgKiA8c291cmNlLXNpemU+ID0gPG1lZGlhLWNvbmRpdGlvbj4gPHNvdXJjZS1zaXplLXZhbHVlPlxuICAgKiA8c291cmNlLXNpemUtdmFsdWU+ID0gPGxlbmd0aD5cbiAgICogaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvZW1iZWRkZWQtY29udGVudC5odG1sI2F0dHItaW1nLXNpemVzXG4gICAqXG4gICAqIEUuZy4gXCIobWF4LXdpZHRoOiAzMGVtKSAxMDB2dywgKG1heC13aWR0aDogNTBlbSkgNzB2dywgMTAwdndcIlxuICAgKiBvciBcIihtaW4td2lkdGg6IDMwZW0pLCBjYWxjKDMwdncgLSAxNXB4KVwiIG9yIGp1c3QgXCIzMHZ3XCJcbiAgICpcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgdmFsaWQgPGNzcy1sZW5ndGg+IHdpdGggYSBtZWRpYSBjb25kaXRpb24gdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZSxcbiAgICogb3IgXCIxMDB2d1wiIGlmIGFsbCB2YWxpZCBtZWRpYSBjb25kaXRpb25zIGV2YWx1YXRlIHRvIGZhbHNlLlxuICAgKlxuICAgKi9cblxuICBmdW5jdGlvbiBwYXJzZVNpemVzKHN0clZhbHVlKSB7XG5cbiAgICAvLyAoUGVyY2VudGFnZSBDU1MgbGVuZ3RocyBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBjYXNlLCB0byBhdm9pZCBjb25mdXNpb246XG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3ZhbGlkLXNvdXJjZS1zaXplLWxpc3RcbiAgICAvLyBDU1MgYWxsb3dzIGEgc2luZ2xlIG9wdGlvbmFsIHBsdXMgb3IgbWludXMgc2lnbjpcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL3N5bmRhdGEuaHRtbCNudW1iZXJzXG4gICAgLy8gQ1NTIGlzIEFTQ0lJIGNhc2UtaW5zZW5zaXRpdmU6XG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjY2hhcmFjdGVycyApXG4gICAgLy8gU3BlYyBhbGxvd3MgZXhwb25lbnRpYWwgbm90YXRpb24gZm9yIDxudW1iZXI+IHR5cGU6XG4gICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy8jbnVtYmVyc1xuICAgIHZhciByZWdleENzc0xlbmd0aFdpdGhVbml0cyA9IC9eKD86WystXT9bMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/KD86Y2h8Y218ZW18ZXh8aW58bW18cGN8cHR8cHh8cmVtfHZofHZtaW58dm1heHx2dykkL2k7XG5cbiAgICAvLyAoVGhpcyBpcyBhIHF1aWNrIGFuZCBsZW5pZW50IHRlc3QuIEJlY2F1c2Ugb2Ygb3B0aW9uYWwgdW5saW1pdGVkLWRlcHRoIGludGVybmFsXG4gICAgLy8gZ3JvdXBpbmcgcGFyZW5zIGFuZCBzdHJpY3Qgc3BhY2luZyBydWxlcywgdGhpcyBjb3VsZCBnZXQgdmVyeSBjb21wbGljYXRlZC4pXG4gICAgdmFyIHJlZ2V4Q3NzQ2FsYyA9IC9eY2FsY1xcKCg/OlswLTlhLXogXFwuXFwrXFwtXFwqXFwvXFwoXFwpXSspXFwpJC9pO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIHVucGFyc2VkU2l6ZXNMaXN0O1xuICAgIHZhciB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDtcbiAgICB2YXIgdW5wYXJzZWRTaXplO1xuICAgIHZhciBsYXN0Q29tcG9uZW50VmFsdWU7XG4gICAgdmFyIHNpemU7XG5cbiAgICAvLyBVVElMSVRZIEZVTkNUSU9OU1xuXG4gICAgLy8gIChUb3kgQ1NTIHBhcnNlci4gVGhlIGdvYWxzIGhlcmUgYXJlOlxuICAgIC8vICAxKSBleHBhbnNpdmUgdGVzdCBjb3ZlcmFnZSB3aXRob3V0IHRoZSB3ZWlnaHQgb2YgYSBmdWxsIENTUyBwYXJzZXIuXG4gICAgLy8gIDIpIEF2b2lkaW5nIHJlZ2V4IHdoZXJldmVyIGNvbnZlbmllbnQuXG4gICAgLy8gIFF1aWNrIHRlc3RzOiBodHRwOi8vanNmaWRkbGUubmV0L2d0bnRMNGdyLzMvXG4gICAgLy8gIFJldHVybnMgYW4gYXJyYXkgb2YgYXJyYXlzLilcbiAgICBmdW5jdGlvbiBwYXJzZUNvbXBvbmVudFZhbHVlcyhzdHIpIHtcbiAgICAgIHZhciBjaHJjdHI7XG4gICAgICB2YXIgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgIHZhciBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgdmFyIGxpc3RBcnJheSA9IFtdO1xuICAgICAgdmFyIHBhcmVuRGVwdGggPSAwO1xuICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICB2YXIgaW5Db21tZW50ID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hDb21wb25lbnQoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICBjb21wb25lbnRBcnJheS5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdXNoQ29tcG9uZW50QXJyYXkoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnRBcnJheVswXSkge1xuICAgICAgICAgIGxpc3RBcnJheS5wdXNoKGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIChMb29wIGZvcndhcmRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nLilcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNocmN0ciA9IHN0ci5jaGFyQXQocG9zKTtcblxuICAgICAgICBpZiAoY2hyY3RyID09PSBcIlwiKSB7IC8vICggRW5kIG9mIHN0cmluZyByZWFjaGVkLilcbiAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgcHVzaENvbXBvbmVudEFycmF5KCk7XG4gICAgICAgICAgcmV0dXJuIGxpc3RBcnJheTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkNvbW1lbnQpIHtcbiAgICAgICAgICBpZiAoKGNocmN0ciA9PT0gXCIqXCIpICYmIChzdHJbcG9zICsgMV0gPT09IFwiL1wiKSkgeyAvLyAoQXQgZW5kIG9mIGEgY29tbWVudC4pXG4gICAgICAgICAgICBpbkNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgcHVzaENvbXBvbmVudCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcyArPSAxOyAvLyAoU2tpcCBhbGwgY2hhcmFjdGVycyBpbnNpZGUgY29tbWVudHMuKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzU3BhY2UoY2hyY3RyKSkge1xuICAgICAgICAgIC8vIChJZiBwcmV2aW91cyBjaGFyYWN0ZXIgaW4gbG9vcCB3YXMgYWxzbyBhIHNwYWNlLCBvciBpZlxuICAgICAgICAgIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZywgZG8gbm90IGFkZCBzcGFjZSBjaGFyIHRvXG4gICAgICAgICAgLy8gY29tcG9uZW50LilcbiAgICAgICAgICBpZiAoIChzdHIuY2hhckF0KHBvcyAtIDEpICYmIGlzU3BhY2UoIHN0ci5jaGFyQXQocG9zIC0gMSkgKSApIHx8ICFjb21wb25lbnQgKSB7XG4gICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW5EZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgcHVzaENvbXBvbmVudCgpO1xuICAgICAgICAgICAgcG9zICs9MTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAoUmVwbGFjZSBhbnkgc3BhY2UgY2hhcmFjdGVyIHdpdGggYSBwbGFpbiBzcGFjZSBmb3IgbGVnaWJpbGl0eS4pXG4gICAgICAgICAgICBjaHJjdHIgPSBcIiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hyY3RyID09PSBcIihcIikge1xuICAgICAgICAgIHBhcmVuRGVwdGggKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjaHJjdHIgPT09IFwiKVwiKSB7XG4gICAgICAgICAgcGFyZW5EZXB0aCAtPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNocmN0ciA9PT0gXCIsXCIpIHtcbiAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgcHVzaENvbXBvbmVudEFycmF5KCk7XG4gICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIChjaHJjdHIgPT09IFwiL1wiKSAmJiAoc3RyLmNoYXJBdChwb3MgKyAxKSA9PT0gXCIqXCIpICkge1xuICAgICAgICAgIGluQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnQgKyBjaHJjdHI7XG4gICAgICAgIHBvcyArPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWROb25OZWdhdGl2ZVNvdXJjZVNpemVWYWx1ZShzKSB7XG4gICAgICBpZiAocmVnZXhDc3NMZW5ndGhXaXRoVW5pdHMudGVzdChzKSAmJiAocGFyc2VGbG9hdChzKSA+PSAwKSkge3JldHVybiB0cnVlO31cbiAgICAgIGlmIChyZWdleENzc0NhbGMudGVzdChzKSkge3JldHVybiB0cnVlO31cbiAgICAgIC8vICggaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjbnVtYmVycyBzYXlzOlxuICAgICAgLy8gXCItMCBpcyBlcXVpdmFsZW50IHRvIDAgYW5kIGlzIG5vdCBhIG5lZ2F0aXZlIG51bWJlci5cIiB3aGljaCBtZWFucyB0aGF0XG4gICAgICAvLyB1bml0bGVzcyB6ZXJvIGFuZCB1bml0bGVzcyBuZWdhdGl2ZSB6ZXJvIG11c3QgYmUgYWNjZXB0ZWQgYXMgc3BlY2lhbCBjYXNlcy4pXG4gICAgICBpZiAoKHMgPT09IFwiMFwiKSB8fCAocyA9PT0gXCItMFwiKSB8fCAocyA9PT0gXCIrMFwiKSkge3JldHVybiB0cnVlO31cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIGFza2VkIHRvIHBhcnNlIGEgc2l6ZXMgYXR0cmlidXRlIGZyb20gYW4gZWxlbWVudCwgcGFyc2UgYVxuICAgIC8vIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGNvbXBvbmVudCB2YWx1ZXMgZnJvbSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQnc1xuICAgIC8vIHNpemVzIGF0dHJpYnV0ZSAob3IgdGhlIGVtcHR5IHN0cmluZywgaWYgdGhlIGF0dHJpYnV0ZSBpcyBhYnNlbnQpLCBhbmQgbGV0XG4gICAgLy8gdW5wYXJzZWQgc2l6ZXMgbGlzdCBiZSB0aGUgcmVzdWx0LlxuICAgIC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1zeW50YXgvI3BhcnNlLWNvbW1hLXNlcGFyYXRlZC1saXN0LW9mLWNvbXBvbmVudC12YWx1ZXNcblxuICAgIHVucGFyc2VkU2l6ZXNMaXN0ID0gcGFyc2VDb21wb25lbnRWYWx1ZXMoc3RyVmFsdWUpO1xuICAgIHVucGFyc2VkU2l6ZXNMaXN0TGVuZ3RoID0gdW5wYXJzZWRTaXplc0xpc3QubGVuZ3RoO1xuXG4gICAgLy8gRm9yIGVhY2ggdW5wYXJzZWQgc2l6ZSBpbiB1bnBhcnNlZCBzaXplcyBsaXN0OlxuICAgIGZvciAoaSA9IDA7IGkgPCB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDsgaSsrKSB7XG4gICAgICB1bnBhcnNlZFNpemUgPSB1bnBhcnNlZFNpemVzTGlzdFtpXTtcblxuICAgICAgLy8gMS4gUmVtb3ZlIGFsbCBjb25zZWN1dGl2ZSA8d2hpdGVzcGFjZS10b2tlbj5zIGZyb20gdGhlIGVuZCBvZiB1bnBhcnNlZCBzaXplLlxuICAgICAgLy8gKCBwYXJzZUNvbXBvbmVudFZhbHVlcygpIGFscmVhZHkgb21pdHMgc3BhY2VzIG91dHNpZGUgb2YgcGFyZW5zLiApXG5cbiAgICAgIC8vIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCB0aGF0IGlzIGEgcGFyc2UgZXJyb3I7IGNvbnRpbnVlIHRvIHRoZSBuZXh0XG4gICAgICAvLyBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoIHBhcnNlQ29tcG9uZW50VmFsdWVzKCkgd29uJ3QgcHVzaCBhbiBlbXB0eSBhcnJheS4gKVxuXG4gICAgICAvLyAyLiBJZiB0aGUgbGFzdCBjb21wb25lbnQgdmFsdWUgaW4gdW5wYXJzZWQgc2l6ZSBpcyBhIHZhbGlkIG5vbi1uZWdhdGl2ZVxuICAgICAgLy8gPHNvdXJjZS1zaXplLXZhbHVlPiwgbGV0IHNpemUgYmUgaXRzIHZhbHVlIGFuZCByZW1vdmUgdGhlIGNvbXBvbmVudCB2YWx1ZVxuICAgICAgLy8gZnJvbSB1bnBhcnNlZCBzaXplLiBBbnkgQ1NTIGZ1bmN0aW9uIG90aGVyIHRoYW4gdGhlIGNhbGMoKSBmdW5jdGlvbiBpc1xuICAgICAgLy8gaW52YWxpZC4gT3RoZXJ3aXNlLCB0aGVyZSBpcyBhIHBhcnNlIGVycm9yOyBjb250aW51ZSB0byB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgIC8vIG9mIHRoaXMgYWxnb3JpdGhtLlxuICAgICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXN5bnRheC8jcGFyc2UtY29tcG9uZW50LXZhbHVlXG4gICAgICBsYXN0Q29tcG9uZW50VmFsdWUgPSB1bnBhcnNlZFNpemVbdW5wYXJzZWRTaXplLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoaXNWYWxpZE5vbk5lZ2F0aXZlU291cmNlU2l6ZVZhbHVlKGxhc3RDb21wb25lbnRWYWx1ZSkpIHtcbiAgICAgICAgc2l6ZSA9IGxhc3RDb21wb25lbnRWYWx1ZTtcbiAgICAgICAgdW5wYXJzZWRTaXplLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFJlbW92ZSBhbGwgY29uc2VjdXRpdmUgPHdoaXRlc3BhY2UtdG9rZW4+cyBmcm9tIHRoZSBlbmQgb2YgdW5wYXJzZWRcbiAgICAgIC8vIHNpemUuIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCByZXR1cm4gc2l6ZSBhbmQgZXhpdCB0aGlzIGFsZ29yaXRobS5cbiAgICAgIC8vIElmIHRoaXMgd2FzIG5vdCB0aGUgbGFzdCBpdGVtIGluIHVucGFyc2VkIHNpemVzIGxpc3QsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICh1bnBhcnNlZFNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBQYXJzZSB0aGUgcmVtYWluaW5nIGNvbXBvbmVudCB2YWx1ZXMgaW4gdW5wYXJzZWQgc2l6ZSBhcyBhXG4gICAgICAvLyA8bWVkaWEtY29uZGl0aW9uPi4gSWYgaXQgZG9lcyBub3QgcGFyc2UgY29ycmVjdGx5LCBvciBpdCBkb2VzIHBhcnNlXG4gICAgICAvLyBjb3JyZWN0bHkgYnV0IHRoZSA8bWVkaWEtY29uZGl0aW9uPiBldmFsdWF0ZXMgdG8gZmFsc2UsIGNvbnRpbnVlIHRvIHRoZVxuICAgICAgLy8gbmV4dCBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoUGFyc2luZyBhbGwgcG9zc2libGUgY29tcG91bmQgbWVkaWEgY29uZGl0aW9ucyBpbiBKUyBpcyBoZWF2eSwgY29tcGxpY2F0ZWQsXG4gICAgICAvLyBhbmQgdGhlIHBheW9mZiBpcyB1bmNsZWFyLiBJcyB0aGVyZSBldmVyIGFuIHNpdHVhdGlvbiB3aGVyZSB0aGVcbiAgICAgIC8vIG1lZGlhIGNvbmRpdGlvbiBwYXJzZXMgaW5jb3JyZWN0bHkgYnV0IHN0aWxsIHNvbWVob3cgZXZhbHVhdGVzIHRvIHRydWU/XG4gICAgICAvLyBDYW4gd2UganVzdCByZWx5IG9uIHRoZSBicm93c2VyL3BvbHlmaWxsIHRvIGRvIGl0PylcbiAgICAgIHVucGFyc2VkU2l6ZSA9IHVucGFyc2VkU2l6ZS5qb2luKFwiIFwiKTtcbiAgICAgIGlmICghKHBmLm1hdGNoZXNNZWRpYSggdW5wYXJzZWRTaXplICkgKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIDUuIFJldHVybiBzaXplIGFuZCBleGl0IHRoaXMgYWxnb3JpdGhtLlxuICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGFib3ZlIGFsZ29yaXRobSBleGhhdXN0cyB1bnBhcnNlZCBzaXplcyBsaXN0IHdpdGhvdXQgcmV0dXJuaW5nIGFcbiAgICAvLyBzaXplIHZhbHVlLCByZXR1cm4gMTAwdncuXG4gICAgcmV0dXJuIFwiMTAwdndcIjtcbiAgfVxuXG4gIC8vIG5hbWVzcGFjZVxuICBwZi5ucyA9IChcInBmXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSkuc3Vic3RyKDAsIDkpO1xuXG4gIC8vIHNyY3NldCBzdXBwb3J0IHRlc3RcbiAgcGYuc3VwU3Jjc2V0ID0gXCJzcmNzZXRcIiBpbiBpbWFnZTtcbiAgcGYuc3VwU2l6ZXMgPSBcInNpemVzXCIgaW4gaW1hZ2U7XG4gIHBmLnN1cFBpY3R1cmUgPSAhIXdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQ7XG5cbiAgLy8gVUMgYnJvd3NlciBkb2VzIGNsYWltIHRvIHN1cHBvcnQgc3Jjc2V0IGFuZCBwaWN0dXJlLCBidXQgbm90IHNpemVzLFxuICAvLyB0aGlzIGV4dGVuZGVkIHRlc3QgcmV2ZWFscyB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgbm90aGluZ1xuICBpZiAocGYuc3VwU3Jjc2V0ICYmIHBmLnN1cFBpY3R1cmUgJiYgIXBmLnN1cFNpemVzKSB7XG4gICAgKGZ1bmN0aW9uKGltYWdlMikge1xuICAgICAgaW1hZ2Uuc3Jjc2V0ID0gXCJkYXRhOixhXCI7XG4gICAgICBpbWFnZTIuc3JjID0gXCJkYXRhOixhXCI7XG4gICAgICBwZi5zdXBTcmNzZXQgPSBpbWFnZS5jb21wbGV0ZSA9PT0gaW1hZ2UyLmNvbXBsZXRlO1xuICAgICAgcGYuc3VwUGljdHVyZSA9IHBmLnN1cFNyY3NldCAmJiBwZi5zdXBQaWN0dXJlO1xuICAgIH0pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpO1xuICB9XG5cbiAgLy8gU2FmYXJpOSBoYXMgYmFzaWMgc3VwcG9ydCBmb3Igc2l6ZXMsIGJ1dCBkb2VzJ3QgZXhwb3NlIHRoZSBgc2l6ZXNgIGlkbCBhdHRyaWJ1dGVcbiAgaWYgKHBmLnN1cFNyY3NldCAmJiAhcGYuc3VwU2l6ZXMpIHtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3aWR0aDIgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFnQUJBUEFBQVAvLy93QUFBQ0g1QkFBQUFBQUFMQUFBQUFBQ0FBRUFBQUlDQkFvQU93PT1cIjtcbiAgICAgIHZhciB3aWR0aDEgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI7XG4gICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIHZhciB0ZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGltZy53aWR0aDtcblxuICAgICAgICBpZiAod2lkdGggPT09IDIpIHtcbiAgICAgICAgICBwZi5zdXBTaXplcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBhbHdheXNDaGVja1dEZXNjcmlwdG9yID0gcGYuc3VwU3Jjc2V0ICYmICFwZi5zdXBTaXplcztcblxuICAgICAgICBpc1N1cHBvcnRUZXN0UmVhZHkgPSB0cnVlO1xuICAgICAgICAvLyBmb3JjZSBhc3luY1xuICAgICAgICBzZXRUaW1lb3V0KHBpY3R1cmVmaWxsKTtcbiAgICAgIH07XG5cbiAgICAgIGltZy5vbmxvYWQgPSB0ZXN0O1xuICAgICAgaW1nLm9uZXJyb3IgPSB0ZXN0O1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZShcInNpemVzXCIsIFwiOXB4XCIpO1xuXG4gICAgICBpbWcuc3Jjc2V0ID0gd2lkdGgxICsgXCIgMXcsXCIgKyB3aWR0aDIgKyBcIiA5d1wiO1xuICAgICAgaW1nLnNyYyA9IHdpZHRoMTtcbiAgICB9KSgpO1xuXG4gIH0gZWxzZSB7XG4gICAgaXNTdXBwb3J0VGVzdFJlYWR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIHVzaW5nIHBmLnFzYSBpbnN0ZWFkIG9mIGRvbSB0cmF2ZXJzaW5nIGRvZXMgc2NhbGUgbXVjaCBiZXR0ZXIsXG4gIC8vIGVzcGVjaWFsbHkgb24gc2l0ZXMgbWl4aW5nIHJlc3BvbnNpdmUgYW5kIG5vbi1yZXNwb25zaXZlIGltYWdlc1xuICBwZi5zZWxTaG9ydCA9IFwicGljdHVyZT5pbWcsaW1nW3NyY3NldF1cIjtcbiAgcGYuc2VsID0gcGYuc2VsU2hvcnQ7XG4gIHBmLmNmZyA9IGNmZztcblxuICAvKipcbiAgICogU2hvcnRjdXQgcHJvcGVydHkgZm9yIGBkZXZpY2VQaXhlbFJhdGlvYCAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKi9cbiAgcGYuRFBSID0gKERQUiAgfHwgMSApO1xuICBwZi51ID0gdW5pdHM7XG5cbiAgLy8gY29udGFpbmVyIG9mIHN1cHBvcnRlZCBtaW1lIHR5cGVzIHRoYXQgb25lIG1pZ2h0IG5lZWQgdG8gcXVhbGlmeSBiZWZvcmUgdXNpbmdcbiAgcGYudHlwZXMgPSAgdHlwZXM7XG5cbiAgcGYuc2V0U2l6ZSA9IG5vb3A7XG5cbiAgLyoqXG4gICAqIEdldHMgYSBzdHJpbmcgYW5kIHJldHVybnMgdGhlIGFic29sdXRlIFVSTFxuICAgKiBAcGFyYW0gc3JjXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGFic29sdXRlIFVSTFxuICAgKi9cblxuICBwZi5tYWtlVXJsID0gbWVtb2l6ZShmdW5jdGlvbihzcmMpIHtcbiAgICBhbmNob3IuaHJlZiA9IHNyYztcbiAgICByZXR1cm4gYW5jaG9yLmhyZWY7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgRE9NIGVsZW1lbnQgb3IgZG9jdW1lbnQgYW5kIGEgc2VsY3RvciBhbmQgcmV0dXJucyB0aGUgZm91bmQgbWF0Y2hlc1xuICAgKiBDYW4gYmUgZXh0ZW5kZWQgd2l0aCBqUXVlcnkvU2l6emxlIGZvciBJRTcgc3VwcG9ydFxuICAgKiBAcGFyYW0gY29udGV4dFxuICAgKiBAcGFyYW0gc2VsXG4gICAqIEByZXR1cm5zIHtOb2RlTGlzdHxBcnJheX1cbiAgICovXG4gIHBmLnFzYSA9IGZ1bmN0aW9uKGNvbnRleHQsIHNlbCkge1xuICAgIHJldHVybiAoIFwicXVlcnlTZWxlY3RvclwiIGluIGNvbnRleHQgKSA/IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChzZWwpIDogW107XG4gIH07XG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IG1ldGhvZCBmb3IgbWF0Y2hNZWRpYSAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKiB3ZXRoZXIgbmF0aXZlIG9yIHBmLm1NUSBpcyB1c2VkIHdpbGwgYmUgZGVjaWRlZCBsYXp5IG9uIGZpcnN0IGNhbGxcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBwZi5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHdpbmRvdy5tYXRjaE1lZGlhICYmIChtYXRjaE1lZGlhKCBcIihtaW4td2lkdGg6IDAuMWVtKVwiICkgfHwge30pLm1hdGNoZXMgKSB7XG4gICAgICBwZi5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbiggbWVkaWEgKSB7XG4gICAgICAgIHJldHVybiAhbWVkaWEgfHwgKCBtYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXMgKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBmLm1hdGNoZXNNZWRpYSA9IHBmLm1NUTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGYubWF0Y2hlc01lZGlhLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaW1wbGlmaWVkIG1hdGNoTWVkaWEgaW1wbGVtZW50YXRpb24gZm9yIElFOCBhbmQgSUU5XG4gICAqIGhhbmRsZXMgb25seSBtaW4td2lkdGgvbWF4LXdpZHRoIHdpdGggcHggb3IgZW0gdmFsdWVzXG4gICAqIEBwYXJhbSBtZWRpYVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBmLm1NUSA9IGZ1bmN0aW9uKCBtZWRpYSApIHtcbiAgICByZXR1cm4gbWVkaWEgPyBldmFsQ1NTKG1lZGlhKSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgbGVuZ3RoIGluIGNzcyBwaXhlbCBmcm9tIHRoZSBnaXZlbiBzb3VyY2VTaXplVmFsdWVcbiAgICogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNsZW5ndGgtdmFsdWVcbiAgICogaW50ZW5kZWQgU3BlYyBtaXNtYXRjaGVzOlxuICAgKiAqIERvZXMgbm90IGNoZWNrIGZvciBpbnZhbGlkIHVzZSBvZiBDU1MgZnVuY3Rpb25zXG4gICAqICogRG9lcyBoYW5kbGUgYSBjb21wdXRlZCBsZW5ndGggb2YgMCB0aGUgc2FtZSBhcyBhIG5lZ2F0aXZlIGFuZCB0aGVyZWZvcmUgaW52YWxpZCB2YWx1ZVxuICAgKiBAcGFyYW0gc291cmNlU2l6ZVZhbHVlXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBwZi5jYWxjTGVuZ3RoID0gZnVuY3Rpb24oIHNvdXJjZVNpemVWYWx1ZSApIHtcblxuICAgIHZhciB2YWx1ZSA9IGV2YWxDU1Moc291cmNlU2l6ZVZhbHVlLCB0cnVlKSB8fCBmYWxzZTtcbiAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSB0eXBlIHN0cmluZyBhbmQgY2hlY2tzIGlmIGl0cyBzdXBwb3J0ZWRcbiAgICovXG5cbiAgcGYuc3VwcG9ydHNUeXBlID0gZnVuY3Rpb24oIHR5cGUgKSB7XG4gICAgcmV0dXJuICggdHlwZSApID8gdHlwZXNbIHR5cGUgXSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhIHNvdXJjZVNpemUgaW50byBtZWRpYUNvbmRpdGlvbiAobWVkaWEpIGFuZCBzb3VyY2VTaXplVmFsdWUgKGxlbmd0aClcbiAgICogQHBhcmFtIHNvdXJjZVNpemVTdHJcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBwZi5wYXJzZVNpemUgPSBtZW1vaXplKGZ1bmN0aW9uKCBzb3VyY2VTaXplU3RyICkge1xuICAgIHZhciBtYXRjaCA9ICggc291cmNlU2l6ZVN0ciB8fCBcIlwiICkubWF0Y2gocmVnU2l6ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhOiBtYXRjaCAmJiBtYXRjaFsxXSxcbiAgICAgIGxlbmd0aDogbWF0Y2ggJiYgbWF0Y2hbMl1cbiAgICB9O1xuICB9KTtcblxuICBwZi5wYXJzZVNldCA9IGZ1bmN0aW9uKCBzZXQgKSB7XG4gICAgaWYgKCAhc2V0LmNhbmRzICkge1xuICAgICAgc2V0LmNhbmRzID0gcGFyc2VTcmNzZXQoc2V0LnNyY3NldCwgc2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHNldC5jYW5kcztcbiAgfTtcblxuICAvKipcbiAgICogcmV0dXJucyAxZW0gaW4gY3NzIHB4IGZvciBodG1sL2JvZHkgZGVmYXVsdCBzaXplXG4gICAqIGZ1bmN0aW9uIHRha2VuIGZyb20gcmVzcG9uZGpzXG4gICAqIEByZXR1cm5zIHsqfG51bWJlcn1cbiAgICovXG4gIHBmLmdldEVtVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm9keTtcbiAgICBpZiAoICFlbWlucHggJiYgKGJvZHkgPSBkb2N1bWVudC5ib2R5KSApIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG4gICAgICAgIG9yaWdpbmFsSFRNTENTUyA9IGRvY0VsZW0uc3R5bGUuY3NzVGV4dCxcbiAgICAgICAgb3JpZ2luYWxCb2R5Q1NTID0gYm9keS5zdHlsZS5jc3NUZXh0O1xuXG4gICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IGJhc2VTdHlsZTtcblxuICAgICAgLy8gMWVtIGluIGEgbWVkaWEgcXVlcnkgaXMgdGhlIHZhbHVlIG9mIHRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBvZiB0aGUgYnJvd3NlclxuICAgICAgLy8gcmVzZXQgZG9jRWxlbSBhbmQgYm9keSB0byBlbnN1cmUgdGhlIGNvcnJlY3QgdmFsdWUgaXMgcmV0dXJuZWRcbiAgICAgIGRvY0VsZW0uc3R5bGUuY3NzVGV4dCA9IGZzQ3NzO1xuICAgICAgYm9keS5zdHlsZS5jc3NUZXh0ID0gZnNDc3M7XG5cbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuICAgICAgZW1pbnB4ID0gZGl2Lm9mZnNldFdpZHRoO1xuICAgICAgYm9keS5yZW1vdmVDaGlsZCggZGl2ICk7XG5cbiAgICAgIC8vYWxzbyB1cGRhdGUgZW1pbnB4IGJlZm9yZSByZXR1cm5pbmdcbiAgICAgIGVtaW5weCA9IHBhcnNlRmxvYXQoIGVtaW5weCwgMTAgKTtcblxuICAgICAgLy8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgICBkb2NFbGVtLnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEhUTUxDU1M7XG4gICAgICBib2R5LnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEJvZHlDU1M7XG5cbiAgICB9XG4gICAgcmV0dXJuIGVtaW5weCB8fCAxNjtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBzdHJpbmcgb2Ygc2l6ZXMgYW5kIHJldHVybnMgdGhlIHdpZHRoIGluIHBpeGVscyBhcyBhIG51bWJlclxuICAgKi9cbiAgcGYuY2FsY0xpc3RMZW5ndGggPSBmdW5jdGlvbiggc291cmNlU2l6ZUxpc3RTdHIgKSB7XG4gICAgLy8gU3BsaXQgdXAgc291cmNlIHNpemUgbGlzdCwgaWUgKCBtYXgtd2lkdGg6IDMwZW0gKSAxMDAlLCAoIG1heC13aWR0aDogNTBlbSApIDUwJSwgMzMlXG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIChtaW4td2lkdGg6MzBlbSkgY2FsYygzMCUgLSAxNXB4KVxuICAgIGlmICggIShzb3VyY2VTaXplTGlzdFN0ciBpbiBzaXplTGVuZ3RoQ2FjaGUpIHx8IGNmZy51VCApIHtcbiAgICAgIHZhciB3aW5uaW5nTGVuZ3RoID0gcGYuY2FsY0xlbmd0aCggcGFyc2VTaXplcyggc291cmNlU2l6ZUxpc3RTdHIgKSApO1xuXG4gICAgICBzaXplTGVuZ3RoQ2FjaGVbIHNvdXJjZVNpemVMaXN0U3RyIF0gPSAhd2lubmluZ0xlbmd0aCA/IHVuaXRzLndpZHRoIDogd2lubmluZ0xlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2l6ZUxlbmd0aENhY2hlWyBzb3VyY2VTaXplTGlzdFN0ciBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhIGNhbmRpZGF0ZSBvYmplY3Qgd2l0aCBhIHNyY3NldCBwcm9wZXJ0eSBpbiB0aGUgZm9ybSBvZiB1cmwvXG4gICAqIGV4LiBcImltYWdlcy9waWMtbWVkaXVtLnBuZyAxeCwgaW1hZ2VzL3BpYy1tZWRpdW0tMngucG5nIDJ4XCIgb3JcbiAgICogICAgIFwiaW1hZ2VzL3BpYy1tZWRpdW0ucG5nIDQwMHcsIGltYWdlcy9waWMtbWVkaXVtLTJ4LnBuZyA4MDB3XCIgb3JcbiAgICogICAgIFwiaW1hZ2VzL3BpYy1zbWFsbC5wbmdcIlxuICAgKiBHZXQgYW4gYXJyYXkgb2YgaW1hZ2UgY2FuZGlkYXRlcyBpbiB0aGUgZm9ybSBvZlxuICAgKiAgICAgIHt1cmw6IFwiL2Zvby9iYXIucG5nXCIsIHJlc29sdXRpb246IDF9XG4gICAqIHdoZXJlIHJlc29sdXRpb24gaXMgaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNyZXNvbHV0aW9uLXZhbHVlXG4gICAqIElmIHNpemVzIGlzIHNwZWNpZmllZCwgcmVzIGlzIGNhbGN1bGF0ZWRcbiAgICovXG4gIHBmLnNldFJlcyA9IGZ1bmN0aW9uKCBzZXQgKSB7XG4gICAgdmFyIGNhbmRpZGF0ZXM7XG4gICAgaWYgKCBzZXQgKSB7XG5cbiAgICAgIGNhbmRpZGF0ZXMgPSBwZi5wYXJzZVNldCggc2V0ICk7XG5cbiAgICAgIGZvciAoIHZhciBpID0gMCwgbGVuID0gY2FuZGlkYXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgc2V0UmVzb2x1dGlvbiggY2FuZGlkYXRlc1sgaSBdLCBzZXQuc2l6ZXMgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH07XG5cbiAgcGYuc2V0UmVzLnJlcyA9IHNldFJlc29sdXRpb247XG5cbiAgcGYuYXBwbHlTZXRDYW5kaWRhdGUgPSBmdW5jdGlvbiggY2FuZGlkYXRlcywgaW1nICkge1xuICAgIGlmICggIWNhbmRpZGF0ZXMubGVuZ3RoICkge3JldHVybjt9XG4gICAgdmFyIGNhbmRpZGF0ZSxcbiAgICAgIGksXG4gICAgICBqLFxuICAgICAgbGVuZ3RoLFxuICAgICAgYmVzdENhbmRpZGF0ZSxcbiAgICAgIGN1clNyYyxcbiAgICAgIGN1ckNhbixcbiAgICAgIGNhbmRpZGF0ZVNyYyxcbiAgICAgIGFib3J0Q3VyU3JjO1xuXG4gICAgdmFyIGltYWdlRGF0YSA9IGltZ1sgcGYubnMgXTtcbiAgICB2YXIgZHByID0gcGYuRFBSO1xuXG4gICAgY3VyU3JjID0gaW1hZ2VEYXRhLmN1clNyYyB8fCBpbWdbY3VyU3JjUHJvcF07XG5cbiAgICBjdXJDYW4gPSBpbWFnZURhdGEuY3VyQ2FuIHx8IHNldFNyY1RvQ3VyKGltZywgY3VyU3JjLCBjYW5kaWRhdGVzWzBdLnNldCk7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgY3VycmVudCBzb3VyY2UsIHdlIG1pZ2h0IGVpdGhlciBiZWNvbWUgbGF6eSBvciBnaXZlIHRoaXMgc291cmNlIHNvbWUgYWR2YW50YWdlXG4gICAgaWYgKCBjdXJDYW4gJiYgY3VyQ2FuLnNldCA9PT0gY2FuZGlkYXRlc1sgMCBdLnNldCApIHtcblxuICAgICAgLy8gaWYgYnJvd3NlciBjYW4gYWJvcnQgaW1hZ2UgcmVxdWVzdCBhbmQgdGhlIGltYWdlIGhhcyBhIGhpZ2hlciBwaXhlbCBkZW5zaXR5IHRoYW4gbmVlZGVkXG4gICAgICAvLyBhbmQgdGhpcyBpbWFnZSBpc24ndCBkb3dubG9hZGVkIHlldCwgd2Ugc2tpcCBuZXh0IHBhcnQgYW5kIHRyeSB0byBzYXZlIGJhbmR3aWR0aFxuICAgICAgYWJvcnRDdXJTcmMgPSAoc3VwcG9ydEFib3J0ICYmICFpbWcuY29tcGxldGUgJiYgY3VyQ2FuLnJlcyAtIDAuMSA+IGRwcik7XG5cbiAgICAgIGlmICggIWFib3J0Q3VyU3JjICkge1xuICAgICAgICBjdXJDYW4uY2FjaGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBpZiBjdXJyZW50IGNhbmRpZGF0ZSBpcyBcImJlc3RcIiwgXCJiZXR0ZXJcIiBvciBcIm9rYXlcIixcbiAgICAgICAgLy8gc2V0IGl0IHRvIGJlc3RDYW5kaWRhdGVcbiAgICAgICAgaWYgKCBjdXJDYW4ucmVzID49IGRwciApIHtcbiAgICAgICAgICBiZXN0Q2FuZGlkYXRlID0gY3VyQ2FuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCAhYmVzdENhbmRpZGF0ZSApIHtcblxuICAgICAgY2FuZGlkYXRlcy5zb3J0KCBhc2NlbmRpbmdTb3J0ICk7XG5cbiAgICAgIGxlbmd0aCA9IGNhbmRpZGF0ZXMubGVuZ3RoO1xuICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbIGxlbmd0aCAtIDEgXTtcblxuICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuICAgICAgICBpZiAoIGNhbmRpZGF0ZS5yZXMgPj0gZHByICkge1xuICAgICAgICAgIGogPSBpIC0gMTtcblxuICAgICAgICAgIC8vIHdlIGhhdmUgZm91bmQgdGhlIHBlcmZlY3QgY2FuZGlkYXRlLFxuICAgICAgICAgIC8vIGJ1dCBsZXQncyBpbXByb3ZlIHRoaXMgYSBsaXR0bGUgYml0IHdpdGggc29tZSBhc3N1bXB0aW9ucyA7LSlcbiAgICAgICAgICBpZiAoY2FuZGlkYXRlc1sgaiBdICYmXG4gICAgICAgICAgICAoYWJvcnRDdXJTcmMgfHwgY3VyU3JjICE9PSBwZi5tYWtlVXJsKCBjYW5kaWRhdGUudXJsICkpICYmXG4gICAgICAgICAgICBjaG9vc2VMb3dSZXMoY2FuZGlkYXRlc1sgaiBdLnJlcywgY2FuZGlkYXRlLnJlcywgZHByLCBjYW5kaWRhdGVzWyBqIF0uY2FjaGVkKSkge1xuXG4gICAgICAgICAgICBiZXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaiBdO1xuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJlc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBiZXN0Q2FuZGlkYXRlICkge1xuXG4gICAgICBjYW5kaWRhdGVTcmMgPSBwZi5tYWtlVXJsKCBiZXN0Q2FuZGlkYXRlLnVybCApO1xuXG4gICAgICBpbWFnZURhdGEuY3VyU3JjID0gY2FuZGlkYXRlU3JjO1xuICAgICAgaW1hZ2VEYXRhLmN1ckNhbiA9IGJlc3RDYW5kaWRhdGU7XG5cbiAgICAgIGlmICggY2FuZGlkYXRlU3JjICE9PSBjdXJTcmMgKSB7XG4gICAgICAgIHBmLnNldFNyYyggaW1nLCBiZXN0Q2FuZGlkYXRlICk7XG4gICAgICB9XG4gICAgICBwZi5zZXRTaXplKCBpbWcgKTtcbiAgICB9XG4gIH07XG5cbiAgcGYuc2V0U3JjID0gZnVuY3Rpb24oIGltZywgYmVzdENhbmRpZGF0ZSApIHtcbiAgICB2YXIgb3JpZ1dpZHRoO1xuICAgIGltZy5zcmMgPSBiZXN0Q2FuZGlkYXRlLnVybDtcblxuICAgIC8vIGFsdGhvdWdoIHRoaXMgaXMgYSBzcGVjaWZpYyBTYWZhcmkgaXNzdWUsIHdlIGRvbid0IHdhbnQgdG8gdGFrZSB0b28gbXVjaCBkaWZmZXJlbnQgY29kZSBwYXRoc1xuICAgIGlmICggYmVzdENhbmRpZGF0ZS5zZXQudHlwZSA9PT0gXCJpbWFnZS9zdmcreG1sXCIgKSB7XG4gICAgICBvcmlnV2lkdGggPSBpbWcuc3R5bGUud2lkdGg7XG4gICAgICBpbWcuc3R5bGUud2lkdGggPSAoaW1nLm9mZnNldFdpZHRoICsgMSkgKyBcInB4XCI7XG5cbiAgICAgIC8vIG5leHQgbGluZSBvbmx5IHNob3VsZCB0cmlnZ2VyIGEgcmVwYWludFxuICAgICAgLy8gaWYuLi4gaXMgb25seSBkb25lIHRvIHRyaWNrIGRlYWQgY29kZSByZW1vdmFsXG4gICAgICBpZiAoIGltZy5vZmZzZXRXaWR0aCArIDEgKSB7XG4gICAgICAgIGltZy5zdHlsZS53aWR0aCA9IG9yaWdXaWR0aDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcGYuZ2V0U2V0ID0gZnVuY3Rpb24oIGltZyApIHtcbiAgICB2YXIgaSwgc2V0LCBzdXBwb3J0c1R5cGU7XG4gICAgdmFyIG1hdGNoID0gZmFsc2U7XG4gICAgdmFyIHNldHMgPSBpbWcgWyBwZi5ucyBdLnNldHM7XG5cbiAgICBmb3IgKCBpID0gMDsgaSA8IHNldHMubGVuZ3RoICYmICFtYXRjaDsgaSsrICkge1xuICAgICAgc2V0ID0gc2V0c1tpXTtcblxuICAgICAgaWYgKCAhc2V0LnNyY3NldCB8fCAhcGYubWF0Y2hlc01lZGlhKCBzZXQubWVkaWEgKSB8fCAhKHN1cHBvcnRzVHlwZSA9IHBmLnN1cHBvcnRzVHlwZSggc2V0LnR5cGUgKSkgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHN1cHBvcnRzVHlwZSA9PT0gXCJwZW5kaW5nXCIgKSB7XG4gICAgICAgIHNldCA9IHN1cHBvcnRzVHlwZTtcbiAgICAgIH1cblxuICAgICAgbWF0Y2ggPSBzZXQ7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG5cbiAgcGYucGFyc2VTZXRzID0gZnVuY3Rpb24oIGVsZW1lbnQsIHBhcmVudCwgb3B0aW9ucyApIHtcbiAgICB2YXIgc3Jjc2V0QXR0cmlidXRlLCBpbWFnZVNldCwgaXNXRGVzY3JpcG9yLCBzcmNzZXRQYXJzZWQ7XG5cbiAgICB2YXIgaGFzUGljdHVyZSA9IHBhcmVudCAmJiBwYXJlbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCI7XG4gICAgdmFyIGltYWdlRGF0YSA9IGVsZW1lbnRbIHBmLm5zIF07XG5cbiAgICBpZiAoIGltYWdlRGF0YS5zcmMgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnNyYyApIHtcbiAgICAgIGltYWdlRGF0YS5zcmMgPSBnZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIFwic3JjXCIgKTtcbiAgICAgIGlmICggaW1hZ2VEYXRhLnNyYyApIHtcbiAgICAgICAgc2V0SW1nQXR0ci5jYWxsKCBlbGVtZW50LCBzcmNBdHRyLCBpbWFnZURhdGEuc3JjICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY0F0dHIgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIGltYWdlRGF0YS5zcmNzZXQgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnNyY3NldCB8fCAhcGYuc3VwU3Jjc2V0IHx8IGVsZW1lbnQuc3Jjc2V0ICkge1xuICAgICAgc3Jjc2V0QXR0cmlidXRlID0gZ2V0SW1nQXR0ci5jYWxsKCBlbGVtZW50LCBcInNyY3NldFwiICk7XG4gICAgICBpbWFnZURhdGEuc3Jjc2V0ID0gc3Jjc2V0QXR0cmlidXRlO1xuICAgICAgc3Jjc2V0UGFyc2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbWFnZURhdGEuc2V0cyA9IFtdO1xuXG4gICAgaWYgKCBoYXNQaWN0dXJlICkge1xuICAgICAgaW1hZ2VEYXRhLnBpYyA9IHRydWU7XG4gICAgICBnZXRBbGxTb3VyY2VFbGVtZW50cyggcGFyZW50LCBpbWFnZURhdGEuc2V0cyApO1xuICAgIH1cblxuICAgIGlmICggaW1hZ2VEYXRhLnNyY3NldCApIHtcbiAgICAgIGltYWdlU2V0ID0ge1xuICAgICAgICBzcmNzZXQ6IGltYWdlRGF0YS5zcmNzZXQsXG4gICAgICAgIHNpemVzOiBnZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIFwic2l6ZXNcIiApXG4gICAgICB9O1xuXG4gICAgICBpbWFnZURhdGEuc2V0cy5wdXNoKCBpbWFnZVNldCApO1xuXG4gICAgICBpc1dEZXNjcmlwb3IgPSAoYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciB8fCBpbWFnZURhdGEuc3JjKSAmJiByZWdXRGVzYy50ZXN0KGltYWdlRGF0YS5zcmNzZXQgfHwgXCJcIik7XG5cbiAgICAgIC8vIGFkZCBub3JtYWwgc3JjIGFzIGNhbmRpZGF0ZSwgaWYgc291cmNlIGhhcyBubyB3IGRlc2NyaXB0b3JcbiAgICAgIGlmICggIWlzV0Rlc2NyaXBvciAmJiBpbWFnZURhdGEuc3JjICYmICFnZXRDYW5kaWRhdGVGb3JTcmMoaW1hZ2VEYXRhLnNyYywgaW1hZ2VTZXQpICYmICFpbWFnZVNldC5oYXMxeCApIHtcbiAgICAgICAgaW1hZ2VTZXQuc3Jjc2V0ICs9IFwiLCBcIiArIGltYWdlRGF0YS5zcmM7XG4gICAgICAgIGltYWdlU2V0LmNhbmRzLnB1c2goe1xuICAgICAgICAgIHVybDogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgICBkOiAxLFxuICAgICAgICAgIHNldDogaW1hZ2VTZXRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKCBpbWFnZURhdGEuc3JjICkge1xuICAgICAgaW1hZ2VEYXRhLnNldHMucHVzaCgge1xuICAgICAgICBzcmNzZXQ6IGltYWdlRGF0YS5zcmMsXG4gICAgICAgIHNpemVzOiBudWxsXG4gICAgICB9ICk7XG4gICAgfVxuXG4gICAgaW1hZ2VEYXRhLmN1ckNhbiA9IG51bGw7XG4gICAgaW1hZ2VEYXRhLmN1clNyYyA9IHVuZGVmaW5lZDtcblxuICAgIC8vIGlmIGltZyBoYXMgcGljdHVyZSBvciB0aGUgc3Jjc2V0IHdhcyByZW1vdmVkIG9yIGhhcyBhIHNyY3NldCBhbmQgZG9lcyBub3Qgc3VwcG9ydCBzcmNzZXQgYXQgYWxsXG4gICAgLy8gb3IgaGFzIGEgdyBkZXNjcmlwdG9yIChhbmQgZG9lcyBub3Qgc3VwcG9ydCBzaXplcykgc2V0IHN1cHBvcnQgdG8gZmFsc2UgdG8gZXZhbHVhdGVcbiAgICBpbWFnZURhdGEuc3VwcG9ydGVkID0gISggaGFzUGljdHVyZSB8fCAoIGltYWdlU2V0ICYmICFwZi5zdXBTcmNzZXQgKSB8fCAoaXNXRGVzY3JpcG9yICYmICFwZi5zdXBTaXplcykgKTtcblxuICAgIGlmICggc3Jjc2V0UGFyc2VkICYmIHBmLnN1cFNyY3NldCAmJiAhaW1hZ2VEYXRhLnN1cHBvcnRlZCApIHtcbiAgICAgIGlmICggc3Jjc2V0QXR0cmlidXRlICkge1xuICAgICAgICBzZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY3NldEF0dHIsIHNyY3NldEF0dHJpYnV0ZSApO1xuICAgICAgICBlbGVtZW50LnNyY3NldCA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY3NldEF0dHIgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VEYXRhLnN1cHBvcnRlZCAmJiAhaW1hZ2VEYXRhLnNyY3NldCAmJiAoKCFpbWFnZURhdGEuc3JjICYmIGVsZW1lbnQuc3JjKSB8fCAgZWxlbWVudC5zcmMgIT09IHBmLm1ha2VVcmwoaW1hZ2VEYXRhLnNyYykpKSB7XG4gICAgICBpZiAoaW1hZ2VEYXRhLnNyYyA9PT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3JjID0gaW1hZ2VEYXRhLnNyYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbWFnZURhdGEucGFyc2VkID0gdHJ1ZTtcbiAgfTtcblxuICBwZi5maWxsSW1nID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBpbWFnZURhdGE7XG4gICAgdmFyIGV4dHJlbWUgPSBvcHRpb25zLnJlc2VsZWN0IHx8IG9wdGlvbnMucmVldmFsdWF0ZTtcblxuICAgIC8vIGV4cGFuZG8gZm9yIGNhY2hpbmcgZGF0YSBvbiB0aGUgaW1nXG4gICAgaWYgKCAhZWxlbWVudFsgcGYubnMgXSApIHtcbiAgICAgIGVsZW1lbnRbIHBmLm5zIF0gPSB7fTtcbiAgICB9XG5cbiAgICBpbWFnZURhdGEgPSBlbGVtZW50WyBwZi5ucyBdO1xuXG4gICAgLy8gaWYgdGhlIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBldmFsdWF0ZWQsIHNraXAgaXRcbiAgICAvLyB1bmxlc3MgYG9wdGlvbnMucmVldmFsdWF0ZWAgaXMgc2V0IHRvIHRydWUgKCB0aGlzLCBmb3IgZXhhbXBsZSxcbiAgICAvLyBpcyBzZXQgdG8gdHJ1ZSB3aGVuIHJ1bm5pbmcgYHBpY3R1cmVmaWxsYCBvbiBgcmVzaXplYCApLlxuICAgIGlmICggIWV4dHJlbWUgJiYgaW1hZ2VEYXRhLmV2YWxlZCA9PT0gZXZhbElkICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggIWltYWdlRGF0YS5wYXJzZWQgfHwgb3B0aW9ucy5yZWV2YWx1YXRlICkge1xuICAgICAgcGYucGFyc2VTZXRzKCBlbGVtZW50LCBlbGVtZW50LnBhcmVudE5vZGUsIG9wdGlvbnMgKTtcbiAgICB9XG5cbiAgICBpZiAoICFpbWFnZURhdGEuc3VwcG9ydGVkICkge1xuICAgICAgYXBwbHlCZXN0Q2FuZGlkYXRlKCBlbGVtZW50ICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlRGF0YS5ldmFsZWQgPSBldmFsSWQ7XG4gICAgfVxuICB9O1xuXG4gIHBmLnNldHVwUnVuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCAhYWxyZWFkeVJ1biB8fCBpc1Z3RGlydHkgfHwgKERQUiAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pICkge1xuICAgICAgdXBkYXRlTWV0cmljcygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJZiBwaWN0dXJlIGlzIHN1cHBvcnRlZCwgd2VsbCwgdGhhdCdzIGF3ZXNvbWUuXG4gIGlmICggcGYuc3VwUGljdHVyZSApIHtcbiAgICBwaWN0dXJlZmlsbCA9IG5vb3A7XG4gICAgcGYuZmlsbEltZyA9IG5vb3A7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBTZXQgdXAgcGljdHVyZSBwb2x5ZmlsbCBieSBwb2xsaW5nIHRoZSBkb2N1bWVudFxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpc0RvbVJlYWR5O1xuICAgICAgdmFyIHJlZ1JlYWR5ID0gd2luZG93LmF0dGFjaEV2ZW50ID8gL2QkfF5jLyA6IC9kJHxeY3xeaS87XG5cbiAgICAgIHZhciBydW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlYWR5U3RhdGUgPSBkb2N1bWVudC5yZWFkeVN0YXRlIHx8IFwiXCI7XG5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQocnVuLCByZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIiA/IDIwMCA6ICA5OTkpO1xuICAgICAgICBpZiAoIGRvY3VtZW50LmJvZHkgKSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoKTtcbiAgICAgICAgICBpc0RvbVJlYWR5ID0gaXNEb21SZWFkeSB8fCByZWdSZWFkeS50ZXN0KHJlYWR5U3RhdGUpO1xuICAgICAgICAgIGlmICggaXNEb21SZWFkeSApIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCggdGltZXJJZCApO1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgdGltZXJJZCA9IHNldFRpbWVvdXQocnVuLCBkb2N1bWVudC5ib2R5ID8gOSA6IDk5KTtcblxuICAgICAgLy8gQWxzbyBhdHRhY2ggcGljdHVyZWZpbGwgb24gcmVzaXplIGFuZCByZWFkeXN0YXRlY2hhbmdlXG4gICAgICAvLyBodHRwOi8vbW9kZXJuamF2YXNjcmlwdC5ibG9nc3BvdC5jb20vMjAxMy8wOC9idWlsZGluZy1iZXR0ZXItZGVib3VuY2UuaHRtbFxuICAgICAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgICB2YXIgdGltZW91dCwgdGltZXN0YW1wO1xuICAgICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbGFzdCA9IChuZXcgRGF0ZSgpKSAtIHRpbWVzdGFtcDtcblxuICAgICAgICAgIGlmIChsYXN0IDwgd2FpdCkge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHZhciBsYXN0Q2xpZW50V2lkdGggPSBkb2NFbGVtLmNsaWVudEhlaWdodDtcbiAgICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpc1Z3RGlydHkgPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCB8fCAwLCBkb2NFbGVtLmNsaWVudFdpZHRoKSAhPT0gdW5pdHMud2lkdGggfHwgZG9jRWxlbS5jbGllbnRIZWlnaHQgIT09IGxhc3RDbGllbnRXaWR0aDtcbiAgICAgICAgbGFzdENsaWVudFdpZHRoID0gZG9jRWxlbS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmICggaXNWd0RpcnR5ICkge1xuICAgICAgICAgIHBmLmZpbGxJbWdzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG9uKCB3aW5kb3csIFwicmVzaXplXCIsIGRlYm91bmNlKG9uUmVzaXplLCA5OSApICk7XG4gICAgICBvbiggZG9jdW1lbnQsIFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBydW4gKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgcGYucGljdHVyZWZpbGwgPSBwaWN0dXJlZmlsbDtcbiAgLy91c2UgdGhpcyBpbnRlcm5hbGx5IGZvciBlYXN5IG1vbmtleSBwYXRjaGluZy9wZXJmb3JtYW5jZSB0ZXN0aW5nXG4gIHBmLmZpbGxJbWdzID0gcGljdHVyZWZpbGw7XG4gIHBmLnRlYXJkb3duUnVuID0gbm9vcDtcblxuICAvKiBleHBvc2UgbWV0aG9kcyBmb3IgdGVzdGluZyAqL1xuICBwaWN0dXJlZmlsbC5fID0gcGY7XG5cbiAgd2luZG93LnBpY3R1cmVmaWxsQ0ZHID0ge1xuICAgIHBmOiBwZixcbiAgICBwdXNoOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICB2YXIgbmFtZSA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgIGlmICh0eXBlb2YgcGZbbmFtZV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBwZltuYW1lXS5hcHBseShwZiwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZmdbbmFtZV0gPSBhcmdzWzBdO1xuICAgICAgICBpZiAoYWxyZWFkeVJ1bikge1xuICAgICAgICAgIHBmLmZpbGxJbWdzKCB7IHJlc2VsZWN0OiB0cnVlIH0gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB3aGlsZSAoc2V0T3B0aW9ucyAmJiBzZXRPcHRpb25zLmxlbmd0aCkge1xuICAgIHdpbmRvdy5waWN0dXJlZmlsbENGRy5wdXNoKHNldE9wdGlvbnMuc2hpZnQoKSk7XG4gIH1cblxuICAvKiBleHBvc2UgcGljdHVyZWZpbGwgKi9cbiAgd2luZG93LnBpY3R1cmVmaWxsID0gcGljdHVyZWZpbGw7XG5cbiAgLyogZXhwb3NlIHBpY3R1cmVmaWxsICovXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgLy8gQ29tbW9uSlMsIGp1c3QgZXhwb3J0XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwaWN0dXJlZmlsbDtcbiAgfSBlbHNlIGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EIHN1cHBvcnRcbiAgICBkZWZpbmUoIFwicGljdHVyZWZpbGxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwaWN0dXJlZmlsbDsgfSApO1xuICB9XG5cbiAgLy8gSUU4IGV2YWxzIHRoaXMgc3luYywgc28gaXQgbXVzdCBiZSB0aGUgbGFzdCB0aGluZyB3ZSBkb1xuICBpZiAoICFwZi5zdXBQaWN0dXJlICkge1xuICAgIHR5cGVzWyBcImltYWdlL3dlYnBcIiBdID0gZGV0ZWN0VHlwZVN1cHBvcnQoXCJpbWFnZS93ZWJwXCIsIFwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBd0FBQUFCQnhBUi9ROUVSUDhEQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBREFEUWxwQUFEY0FEKysvMVFBQT09XCIgKTtcbiAgfVxuXG59ICkoIHdpbmRvdywgZG9jdW1lbnQgKTtcbiJdfQ==
